"use strict";(self.webpackChunkfrontend_emi=self.webpackChunkfrontend_emi||[]).push([[179],{366:()=>{function ie(n){return"function"==typeof n}function Jo(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ol=Jo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ko(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Tt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){e=o instanceof ol?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{o_(o)}catch(s){e=e??[],s instanceof ol?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ol(e)}}add(e){var t;if(e&&e!==this)if(this.closed)o_(e);else{if(e instanceof Tt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ko(t,e)}remove(e){const{_finalizers:t}=this;t&&Ko(t,e),e instanceof Tt&&e._removeParent(this)}}Tt.EMPTY=(()=>{const n=new Tt;return n.closed=!0,n})();const r_=Tt.EMPTY;function i_(n){return n instanceof Tt||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function o_(n){ie(n)?n():n.unsubscribe()}const Lr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},sl={setTimeout(n,e,...t){const{delegate:r}=sl;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=sl;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function s_(n){sl.setTimeout(()=>{const{onUnhandledError:e}=Lr;if(!e)throw n;e(n)})}function Ed(){}const UN=Id("C",void 0,void 0);function Id(n,e,t){return{kind:n,value:e,error:t}}let Vr=null;function al(n){if(Lr.useDeprecatedSynchronousErrorHandling){const e=!Vr;if(e&&(Vr={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Vr;if(Vr=null,t)throw r}}else n()}class bd extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,i_(e)&&e.add(this)):this.destination=qN}static create(e,t,r){return new Yo(e,t,r)}next(e){this.isStopped?Sd(function jN(n){return Id("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Sd(function HN(n){return Id("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sd(UN,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const zN=Function.prototype.bind;function Dd(n,e){return zN.call(n,e)}class GN{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ll(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ll(r)}else ll(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ll(t)}}}class Yo extends bd{constructor(e,t,r){let i;if(super(),ie(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Lr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dd(e.next,o),error:e.error&&Dd(e.error,o),complete:e.complete&&Dd(e.complete,o)}):i=e}this.destination=new GN(i)}}function ll(n){Lr.useDeprecatedSynchronousErrorHandling?function $N(n){Lr.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=n)}(n):s_(n)}function Sd(n,e){const{onStoppedNotification:t}=Lr;t&&sl.setTimeout(()=>t(n,e))}const qN={closed:!0,next:Ed,error:function WN(n){throw n},complete:Ed},Td="function"==typeof Symbol&&Symbol.observable||"@@observable";function lr(n){return n}function a_(n){return 0===n.length?lr:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let xe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function YN(n){return n&&n instanceof bd||function KN(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}(n)&&i_(n)}(t)?t:new Yo(t,r,i);return al(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=l_(r))((i,o)=>{const s=new Yo({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Td](){return this}pipe(...t){return a_(t)(this)}toPromise(t){return new(t=l_(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function l_(n){var e;return null!==(e=n??Lr.Promise)&&void 0!==e?e:Promise}const ZN=Jo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let tn=(()=>{class n extends xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new c_(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ZN}next(t){al(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){al(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){al(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?r_:(this.currentObservers=null,o.push(t),new Tt(()=>{this.currentObservers=null,Ko(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new xe;return t.source=this,t}}return n.create=(e,t)=>new c_(e,t),n})();class c_ extends tn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:r_}}function u_(n){return ie(n?.lift)}function Le(n){return e=>{if(u_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(n,e,t,r,i){return new XN(n,e,t,r,i)}class XN extends bd{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Z(n,e){return Le((t,r)=>{let i=0;t.subscribe(Re(r,o=>{r.next(n.call(e,o,i++))}))})}function cl(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function cr(n){return this instanceof cr?(this.v=n,this):new cr(n)}function p_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Nd(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const g_=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function m_(n){return ie(n?.then)}function v_(n){return ie(n[Td])}function y_(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function __(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const w_=function _1(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function C_(n){return ie(n?.[w_])}function E_(n){return function h_(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){o.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof cr?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield cr(t.read());if(i)return yield cr(void 0);yield yield cr(r)}}finally{t.releaseLock()}})}function I_(n){return ie(n?.getReader)}function xt(n){if(n instanceof xe)return n;if(null!=n){if(v_(n))return function w1(n){return new xe(e=>{const t=n[Td]();if(ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(g_(n))return function C1(n){return new xe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(m_(n))return function E1(n){return new xe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s_)})}(n);if(y_(n))return b_(n);if(C_(n))return function I1(n){return new xe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(I_(n))return function b1(n){return b_(E_(n))}(n)}throw __(n)}function b_(n){return new xe(e=>{(function D1(n,e){var t,r,i,o;return function d_(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=p_(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Pn(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function $e(n,e,t=1/0){return ie(e)?$e((r,i)=>Z((o,s)=>e(r,o,i,s))(xt(n(r,i))),t):("number"==typeof e&&(t=e),Le((r,i)=>function S1(n,e,t,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&e.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{o&&e.next(g),c++;let m=!1;xt(t(g,u++)).subscribe(Re(e,_=>{i?.(_),o?h(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const _=l.shift();s?Pn(e,s,()=>p(_)):p(_)}f()}catch(_){e.error(_)}}))};return n.subscribe(Re(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,n,t)))}function Ci(n=1/0){return $e(lr,n)}const pn=new xe(n=>n.complete());function kd(n){return n[n.length-1]}function Zo(n){return function x1(n){return n&&ie(n.schedule)}(kd(n))?n.pop():void 0}function S_(n,e=0){return Le((t,r)=>{t.subscribe(Re(r,i=>Pn(r,n,()=>r.next(i),e),()=>Pn(r,n,()=>r.complete(),e),i=>Pn(r,n,()=>r.error(i),e)))})}function T_(n,e=0){return Le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function x_(n,e){if(!n)throw new Error("Iterable cannot be null");return new xe(t=>{Pn(t,e,()=>{const r=n[Symbol.asyncIterator]();Pn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ve(n,e){return e?function P1(n,e){if(null!=n){if(v_(n))return function A1(n,e){return xt(n).pipe(T_(e),S_(e))}(n,e);if(g_(n))return function k1(n,e){return new xe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(m_(n))return function N1(n,e){return xt(n).pipe(T_(e),S_(e))}(n,e);if(y_(n))return x_(n,e);if(C_(n))return function R1(n,e){return new xe(t=>{let r;return Pn(t,e,()=>{r=n[w_](),Pn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}(n,e);if(I_(n))return function O1(n,e){return x_(E_(n),e)}(n,e)}throw __(n)}(n,e):xt(n)}class Mt extends tn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function k(...n){return Ve(n,Zo(n))}function M_(n={}){const{connector:e=(()=>new tn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Le((g,m)=>{c++,!d&&!u&&f();const _=l=l??e();m.add(()=>{c--,0===c&&!d&&!u&&(a=Rd(p,i))}),_.subscribe(m),!s&&c>0&&(s=new Yo({next:y=>_.next(y),error:y=>{d=!0,f(),a=Rd(h,t,y),_.error(y)},complete:()=>{u=!0,f(),a=Rd(h,r),_.complete()}}),xt(g).subscribe(s))})(o)}}function Rd(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Yo({next:()=>{r.unsubscribe(),n()}});return xt(e(...t)).subscribe(r)}function nn(n,e){return Le((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Re(r,l=>{i?.unsubscribe();let c=0;const u=o++;xt(n(l,u)).subscribe(i=Re(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function V1(n,e){return n===e}function te(n){for(let e in n)if(n[e]===te)return e;throw Error("Could not find renamed property on target object.")}function Be(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Be).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Od(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const B1=te({__forward_ref__:te});function ce(n){return n.__forward_ref__=ce,n.toString=function(){return Be(this())},n}function L(n){return Pd(n)?n():n}function Pd(n){return"function"==typeof n&&n.hasOwnProperty(B1)&&n.__forward_ref__===ce}function Fd(n){return n&&!!n.\u0275providers}const A_="https://g.co/ng/security#xss";class E extends Error{constructor(e,t){super(function dl(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function B(n){return"string"==typeof n?n:null==n?"":String(n)}function Ld(n,e){throw new E(-201,!1)}function $t(n,e){null==n&&function R(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function A(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yt(n){return{providers:n.providers||[],imports:n.imports||[]}}function fl(n){return N_(n,pl)||N_(n,k_)}function N_(n,e){return n.hasOwnProperty(e)?n[e]:null}function hl(n){return n&&(n.hasOwnProperty(Vd)||n.hasOwnProperty(q1))?n[Vd]:null}const pl=te({\u0275prov:te}),Vd=te({\u0275inj:te}),k_=te({ngInjectableDef:te}),q1=te({ngInjectorDef:te});var W=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(W||{});let Bd;function _t(n){const e=Bd;return Bd=n,e}function O_(n,e,t){const r=fl(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&W.Optional?null:void 0!==e?e:void Ld(Be(n))}const ue=globalThis;class S{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=A({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Xo={},zd="__NG_DI_FLAG__",gl="ngTempTokenPath",Y1=/\n/gm,F_="__source";let Ei;function ur(n){const e=Ei;return Ei=n,e}function Q1(n,e=W.Default){if(void 0===Ei)throw new E(-203,!1);return null===Ei?O_(n,void 0,e):Ei.get(n,e&W.Optional?null:void 0,e)}function x(n,e=W.Default){return(function R_(){return Bd}()||Q1)(L(n),e)}function T(n,e=W.Default){return x(n,ml(e))}function ml(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Gd(n){const e=[];for(let t=0;t<n.length;t++){const r=L(n[t]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,o=W.Default;for(let s=0;s<r.length;s++){const a=r[s],l=ek(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(x(i,o))}else e.push(x(r))}return e}function Qo(n,e){return n[zd]=e,n.prototype[zd]=e,n}function ek(n){return n[zd]}function Fn(n){return{toString:n}.toString()}var vl=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(vl||{}),rn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(rn||{});const gn={},Y=[],yl=te({\u0275cmp:te}),Wd=te({\u0275dir:te}),qd=te({\u0275pipe:te}),V_=te({\u0275mod:te}),Ln=te({\u0275fac:te}),es=te({__NG_ELEMENT_ID__:te}),B_=te({__NG_ENV_ID__:te});function U_(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Jd(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];j_(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function H_(n){return 3===n||4===n||6===n}function j_(n){return 64===n.charCodeAt(0)}function ts(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||$_(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function $_(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const z_="ng-template";function rk(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==U_(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function G_(n){return 4===n.type&&n.value!==z_}function ik(n,e,t){return e===(4!==n.type||t?n.value:z_)}function ok(n,e,t){let r=4;const i=n.attrs||[],o=function lk(n){for(let e=0;e<n.length;e++)if(H_(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!ik(n,l,t)||""===l&&1===e.length){if(on(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!rk(n.attrs,c,t)){if(on(r))return!1;s=!0}continue}const d=sk(8&r?"class":l,i,G_(n),t);if(-1===d){if(on(r))return!1;s=!0;continue}if(""!==c){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==U_(h,c,0)||2&r&&c!==f){if(on(r))return!1;s=!0}}}}else{if(!s&&!on(r)&&!on(l))return!1;if(s&&on(l))continue;s=!1,r=l|1&r}}return on(r)||s}function on(n){return 0==(1&n)}function sk(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function ck(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function W_(n,e,t=!1){for(let r=0;r<e.length;r++)if(ok(n,e[r],t))return!0;return!1}function q_(n,e){return n?":not("+e.trim()+")":e}function dk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!on(s)&&(e+=q_(o,i),i=""),r=s,o=o||!on(r);t++}return""!==i&&(e+=q_(o,i)),e}function mn(n){return Fn(()=>{const e=K_(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===vl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||rn.Emulated,styles:n.styles||Y,_:null,schemas:n.schemas||null,tView:null,id:""};Y_(t);const r=n.dependencies;return t.directiveDefs=_l(r,!1),t.pipeDefs=_l(r,!0),t.id=function _k(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function gk(n){return J(n)||ze(n)}function mk(n){return null!==n}function Nt(n){return Fn(()=>({type:n.type,bootstrap:n.bootstrap||Y,declarations:n.declarations||Y,imports:n.imports||Y,exports:n.exports||Y,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function J_(n,e){if(null==n)return gn;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function V(n){return Fn(()=>{const e=K_(n);return Y_(e),e})}function it(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function J(n){return n[yl]||null}function ze(n){return n[Wd]||null}function ot(n){return n[qd]||null}function kt(n,e){const t=n[V_]||null;if(!t&&!0===e)throw new Error(`Type ${Be(n)} does not have '\u0275mod' property.`);return t}function K_(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||gn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Y,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:J_(n.inputs,e),outputs:J_(n.outputs)}}function Y_(n){n.features?.forEach(e=>e(n))}function _l(n,e){if(!n)return null;const t=e?ot:gk;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(mk)}const De=0,D=1,$=2,ye=3,sn=4,ns=5,Ke=6,bi=7,Me=8,dr=9,Di=10,U=11,rs=12,Z_=13,Si=14,Ae=15,is=16,Ti=17,vn=18,ss=19,X_=20,fr=21,Vn=22,as=23,ls=24,q=25,Kd=1,Q_=2,yn=7,xi=9,Ge=11;function wt(n){return Array.isArray(n)&&"object"==typeof n[Kd]}function st(n){return Array.isArray(n)&&!0===n[Kd]}function Yd(n){return 0!=(4&n.flags)}function Ur(n){return n.componentOffset>-1}function Cl(n){return 1==(1&n.flags)}function an(n){return!!n.template}function Zd(n){return 0!=(512&n[$])}function Hr(n,e){return n.hasOwnProperty(Ln)?n[Ln]:null}let We=null,El=!1;function zt(n){const e=We;return We=n,e}const nw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function iw(n){if(!us(n)||n.dirty){if(!n.producerMustRecompute(n)&&!aw(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function sw(n){n.dirty=!0,function ow(n){if(void 0===n.liveConsumerNode)return;const e=El;El=!0;try{for(const t of n.liveConsumerNode)t.dirty||sw(t)}finally{El=e}}(n),n.consumerMarkedDirty?.(n)}function Qd(n){return n&&(n.nextProducerIndex=0),zt(n)}function ef(n,e){if(zt(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(us(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Il(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function aw(n){Mi(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(iw(t),r!==t.version))return!0}return!1}function lw(n){if(Mi(n),us(n))for(let e=0;e<n.producerNode.length;e++)Il(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Il(n,e){if(function uw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Mi(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Il(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Mi(i),i.producerIndexOfThis[r]=e}}function us(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Mi(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let dw=null;const gw=()=>{},kk=(()=>({...nw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:gw}))();class Rk{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Gt(){return mw}function mw(n){return n.type.prototype.ngOnChanges&&(n.setInput=Pk),Ok}function Ok(){const n=yw(this),e=n?.current;if(e){const t=n.previous;if(t===gn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Pk(n,e,t,r){const i=this.declaredInputs[t],o=yw(n)||function Fk(n,e){return n[vw]=e}(n,{previous:gn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new Rk(l&&l.currentValue,e,a===gn),n[r]=e}Gt.ngInherit=!0;const vw="__ngSimpleChanges__";function yw(n){return n[vw]||null}const _n=function(n,e,t){},_w="svg";function de(n){for(;Array.isArray(n);)n=n[De];return n}function bl(n,e){return de(e[n])}function Ct(n,e){return de(e[n.index])}function Cw(n,e){return n.data[e]}function Rt(n,e){const t=e[n];return wt(t)?t:t[De]}function pr(n,e){return null==e?null:n[e]}function Ew(n){n[Ti]=0}function jk(n){1024&n[$]||(n[$]|=1024,bw(n,1))}function Iw(n){1024&n[$]&&(n[$]&=-1025,bw(n,-1))}function bw(n,e){let t=n[ye];if(null===t)return;t[ns]+=e;let r=t;for(t=t[ye];null!==t&&(1===e&&1===r[ns]||-1===e&&0===r[ns]);)t[ns]+=e,r=t,t=t[ye]}const O={lFrame:Pw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Tw(){return O.bindingsEnabled}function C(){return O.lFrame.lView}function K(){return O.lFrame.tView}function Dl(n){return O.lFrame.contextLView=n,n[Me]}function Sl(n){return O.lFrame.contextLView=null,n}function qe(){let n=xw();for(;null!==n&&64===n.type;)n=n.parent;return n}function xw(){return O.lFrame.currentTNode}function wn(n,e){const t=O.lFrame;t.currentTNode=n,t.isParent=e}function af(){return O.lFrame.isParent}function at(){const n=O.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ki(){return O.lFrame.bindingIndex++}function eR(n,e){const t=O.lFrame;t.bindingIndex=t.bindingRootIndex=n,cf(e)}function cf(n){O.lFrame.currentDirectiveIndex=n}function df(n){O.lFrame.currentQueryIndex=n}function nR(n){const e=n[D];return 2===e.type?e.declTNode:1===e.type?n[Ke]:null}function Rw(n,e,t){if(t&W.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&W.Host||(i=nR(o),null===i||(o=o[Si],10&i.type))););if(null===i)return!1;e=i,n=o}const r=O.lFrame=Ow();return r.currentTNode=e,r.lView=n,!0}function ff(n){const e=Ow(),t=n[D];O.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Ow(){const n=O.lFrame,e=null===n?null:n.child;return null===e?Pw(n):e}function Pw(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Fw(){const n=O.lFrame;return O.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Lw=Fw;function hf(){const n=Fw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function lt(){return O.lFrame.selectedIndex}function jr(n){O.lFrame.selectedIndex=n}function Ee(){const n=O.lFrame;return Cw(n.tView,n.selectedIndex)}function pf(){O.lFrame.currentNamespace=_w}function gf(){!function sR(){O.lFrame.currentNamespace=null}()}let Bw=!0;function Tl(){return Bw}function gr(n){Bw=n}function xl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Ml(n,e,t){Uw(n,e,3,t)}function Al(n,e,t,r){(3&n[$])===t&&Uw(n,e,t,r)}function mf(n,e){let t=n[$];(3&t)===e&&(t&=8191,t+=1,n[$]=t)}function Uw(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[Ti]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[Ti]+=65536),(a<o||-1==o)&&(lR(n,t,e,l),n[Ti]=(4294901760&n[Ti])+l+2),l++}function Hw(n,e){_n(4,n,e);const t=zt(null);try{e.call(n)}finally{zt(t),_n(5,n,e)}}function lR(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[$]>>13<n[Ti]>>16&&(3&n[$])===e&&(n[$]+=8192,Hw(a,o)):Hw(a,o)}const Ri=-1;class fs{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function yf(n){return n!==Ri}function hs(n){return 32767&n}function ps(n,e){let t=function fR(n){return n>>16}(n),r=e;for(;t>0;)r=r[Si],t--;return r}let _f=!0;function Nl(n){const e=_f;return _f=n,e}const jw=255,$w=5;let hR=0;const Cn={};function kl(n,e){const t=zw(n,e);if(-1!==t)return t;const r=e[D];r.firstCreatePass&&(n.injectorIndex=e.length,wf(r.data,n),wf(e,null),wf(r.blueprint,null));const i=Rl(n,e),o=n.injectorIndex;if(yf(i)){const s=hs(i),a=ps(i,e),l=a[D].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function wf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function zw(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Rl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Zw(i),null===r)return Ri;if(t++,i=i[Si],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ri}function Cf(n,e,t){!function pR(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(es)&&(r=t[es]),null==r&&(r=t[es]=hR++);const i=r&jw;e.data[n+(i>>$w)]|=1<<i}(n,e,t)}function Gw(n,e,t){if(t&W.Optional||void 0!==n)return n;Ld()}function Ww(n,e,t,r){if(t&W.Optional&&void 0===r&&(r=null),!(t&(W.Self|W.Host))){const i=n[dr],o=_t(void 0);try{return i?i.get(e,r,t&W.Optional):O_(e,r,t&W.Optional)}finally{_t(o)}}return Gw(r,0,t)}function qw(n,e,t,r=W.Default,i){if(null!==n){if(2048&e[$]&&!(r&W.Self)){const s=function wR(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[$]&&!(512&s[$]);){const a=Jw(o,s,t,r|W.Self,Cn);if(a!==Cn)return a;let l=o.parent;if(!l){const c=s[X_];if(c){const u=c.get(t,Cn,r);if(u!==Cn)return u}l=Zw(s),s=s[Si]}o=l}return i}(n,e,t,r,Cn);if(s!==Cn)return s}const o=Jw(n,e,t,r,Cn);if(o!==Cn)return o}return Ww(e,t,r,i)}function Jw(n,e,t,r,i){const o=function vR(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(es)?n[es]:void 0;return"number"==typeof e?e>=0?e&jw:_R:e}(t);if("function"==typeof o){if(!Rw(e,n,r))return r&W.Host?Gw(i,0,r):Ww(e,t,r,i);try{let s;if(s=o(r),null!=s||r&W.Optional)return s;Ld()}finally{Lw()}}else if("number"==typeof o){let s=null,a=zw(n,e),l=Ri,c=r&W.Host?e[Ae][Ke]:null;for((-1===a||r&W.SkipSelf)&&(l=-1===a?Rl(n,e):e[a+8],l!==Ri&&Yw(r,!1)?(s=e[D],a=hs(l),e=ps(l,e)):a=-1);-1!==a;){const u=e[D];if(Kw(o,a,u.data)){const d=mR(a,e,t,s,r,c);if(d!==Cn)return d}l=e[a+8],l!==Ri&&Yw(r,e[D].data[a+8]===c)&&Kw(o,a,e)?(s=u,a=hs(l),e=ps(l,e)):a=-1}}return i}function mR(n,e,t,r,i,o){const s=e[D],a=s.data[n+8],u=function Ol(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,f=i?a+u:n.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(i){const h=s[l];if(h&&an(h)&&h.type===t)return l}return null}(a,s,t,null==r?Ur(a)&&_f:r!=s&&0!=(3&a.type),i&W.Host&&o===a);return null!==u?$r(e,s,u,a):Cn}function $r(n,e,t,r){let i=n[t];const o=e.data;if(function cR(n){return n instanceof fs}(i)){const s=i;s.resolving&&function U1(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new E(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ee(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():B(n)}(o[t]));const a=Nl(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?_t(s.injectImpl):null;Rw(n,r,W.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function aR(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=mw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&_t(c),Nl(a),s.resolving=!1,Lw()}}return i}function Kw(n,e,t){return!!(t[e+(n>>$w)]&1<<n)}function Yw(n,e){return!(n&W.Self||n&W.Host&&e)}class ct{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return qw(this._tNode,this._lView,e,ml(r),t)}}function _R(){return new ct(qe(),C())}function Ef(n){return Pd(n)?()=>{const e=Ef(L(n));return e&&e()}:Hr(n)}function Zw(n){const e=n[D],t=e.type;return 2===t?e.declTNode:1===t?n[Ke]:null}const Pi="__parameters__";function Li(n,e,t){return Fn(()=>{const r=function If(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Pi)?l[Pi]:Object.defineProperty(l,Pi,{value:[]})[Pi];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Bi(n,e){n.forEach(t=>Array.isArray(t)?Bi(t,e):e(t))}function Qw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Fl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ot(n,e,t){let r=Ui(n,e);return r>=0?n[1|r]=t:(r=~r,function TR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function bf(n,e){const t=Ui(n,e);if(t>=0)return n[1|t]}function Ui(n,e){return function eC(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Vl=Qo(Li("Optional"),8),Bl=Qo(Li("SkipSelf"),4);function zl(n){return 128==(128&n.flags)}var mr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(mr||{});const Mf=new Map;let ZR=0;const Nf="__ngContext__";function Ye(n,e){wt(e)?(n[Nf]=e[ss],function QR(n){Mf.set(n[ss],n)}(e)):n[Nf]=e}let kf;function Rf(n,e){return kf(n,e)}function ws(n){const e=n[ye];return st(e)?e[ye]:e}function wC(n){return EC(n[rs])}function CC(n){return EC(n[sn])}function EC(n){for(;null!==n&&!st(n);)n=n[sn];return n}function $i(n,e,t,r,i){if(null!=r){let o,s=!1;st(r)?o=r:wt(r)&&(s=!0,r=r[De]);const a=de(r);0===n&&null!==t?null==i?SC(e,t,a):zr(e,t,a,i||null,!0):1===n&&null!==t?zr(e,t,a,i||null,!0):2===n?function Zl(n,e,t){const r=Kl(n,e);r&&function yO(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function CO(n,e,t,r,i){const o=t[yn];o!==de(t)&&$i(e,n,r,o,i);for(let a=Ge;a<t.length;a++){const l=t[a];Es(l[D],l,n,e,r,o)}}(e,n,o,t,i)}}function ql(n,e,t){return n.createElement(e,t)}function bC(n,e){const t=n[xi],r=t.indexOf(e);Iw(e),t.splice(r,1)}function Jl(n,e){if(n.length<=Ge)return;const t=Ge+e,r=n[t];if(r){const i=r[is];null!==i&&i!==n&&bC(i,r),e>0&&(n[t-1][sn]=r[sn]);const o=Fl(n,Ge+e);!function uO(n,e){Es(n,e,e[U],2,null,null),e[De]=null,e[Ke]=null}(r[D],r);const s=o[vn];null!==s&&s.detachView(o[D]),r[ye]=null,r[sn]=null,r[$]&=-129}return r}function Pf(n,e){if(!(256&e[$])){const t=e[U];e[as]&&lw(e[as]),e[ls]&&lw(e[ls]),t.destroyNode&&Es(n,e,t,3,null,null),function hO(n){let e=n[rs];if(!e)return Ff(n[D],n);for(;e;){let t=null;if(wt(e))t=e[rs];else{const r=e[Ge];r&&(t=r)}if(!t){for(;e&&!e[sn]&&e!==n;)wt(e)&&Ff(e[D],e),e=e[ye];null===e&&(e=n),wt(e)&&Ff(e[D],e),t=e&&e[sn]}e=t}}(e)}}function Ff(n,e){if(!(256&e[$])){e[$]&=-129,e[$]|=256,function vO(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof fs)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];_n(4,a,l);try{l.call(a)}finally{_n(5,a,l)}}else{_n(4,i,o);try{o.call(i)}finally{_n(5,i,o)}}}}}(n,e),function mO(n,e){const t=n.cleanup,r=e[bi];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[bi]=null);const i=e[fr];if(null!==i){e[fr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[D].type&&e[U].destroy();const t=e[is];if(null!==t&&st(e[ye])){t!==e[ye]&&bC(t,e);const r=e[vn];null!==r&&r.detachView(n)}!function eO(n){Mf.delete(n[ss])}(e)}}function Lf(n,e,t){return function DC(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[De];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===rn.None||o===rn.Emulated)return null}return Ct(r,t)}}(n,e.parent,t)}function zr(n,e,t,r,i){n.insertBefore(e,t,r,i)}function SC(n,e,t){n.appendChild(e,t)}function TC(n,e,t,r,i){null!==r?zr(n,e,t,r,i):SC(n,e,t)}function Kl(n,e){return n.parentNode(e)}let Vf,Xl,jf,Ql,AC=function MC(n,e,t){return 40&n.type?Ct(n,t):null};function Yl(n,e,t,r){const i=Lf(n,r,e),o=e[U],a=function xC(n,e,t){return AC(n,e,t)}(r.parent||e[Ke],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)TC(o,i,t[l],a,!1);else TC(o,i,t,a,!1);void 0!==Vf&&Vf(o,r,e,t,i)}function Cs(n,e){if(null!==e){const t=e.type;if(3&t)return Ct(e,n);if(4&t)return Bf(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Cs(n,r);{const i=n[e.index];return st(i)?Bf(-1,i):de(i)}}if(32&t)return Rf(e,n)()||de(n[e.index]);{const r=kC(n,e);return null!==r?Array.isArray(r)?r[0]:Cs(ws(n[Ae]),r):Cs(n,e.next)}}return null}function kC(n,e){return null!==e?n[Ae][Ke].projection[e.projection]:null}function Bf(n,e){const t=Ge+n+1;if(t<e.length){const r=e[t],i=r[D].firstChild;if(null!==i)return Cs(r,i)}return e[yn]}function Uf(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&Ye(de(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)Uf(n,e,t.child,r,i,o,!1),$i(e,n,i,a,o);else if(32&l){const c=Rf(t,r);let u;for(;u=c();)$i(e,n,i,u,o);$i(e,n,i,a,o)}else 16&l?OC(n,e,r,t,i,o):$i(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Es(n,e,t,r,i,o){Uf(t,r,n.firstChild,e,i,o,!1)}function OC(n,e,t,r,i,o){const s=t[Ae],l=s[Ke].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)$i(e,n,i,l[c],o);else{let c=l;const u=s[ye];zl(r)&&(c.flags|=128),Uf(n,e,c,u,i,o,!0)}}function PC(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function FC(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Jd(n,e,r),null!==i&&PC(n,e,i),null!==o&&function IO(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function zi(n){return function Hf(){if(void 0===Xl&&(Xl=null,ue.trustedTypes))try{Xl=ue.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xl}()?.createHTML(n)||n}function BC(n){return function $f(){if(void 0===Ql&&(Ql=null,ue.trustedTypes))try{Ql=ue.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ql}()?.createScriptURL(n)||n}class Gr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${A_})`}}class xO extends Gr{getTypeName(){return"HTML"}}class MO extends Gr{getTypeName(){return"Style"}}class AO extends Gr{getTypeName(){return"Script"}}class NO extends Gr{getTypeName(){return"URL"}}class kO extends Gr{getTypeName(){return"ResourceURL"}}function Pt(n){return n instanceof Gr?n.changingThisBreaksApplicationSecurity:n}function En(n,e){const t=function RO(n){return n instanceof Gr&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${A_})`)}return t===e}class BO{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(zi(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class UO{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=zi(e),t}}const jO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ec(n){return(n=String(n)).match(jO)?n:"unsafe:"+n}function Hn(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Is(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const HC=Hn("area,br,col,hr,img,wbr"),jC=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$C=Hn("rp,rt"),zf=Is(HC,Is(jC,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Is($C,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Is($C,jC)),Gf=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zC=Is(Gf,Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$O=Hn("script,style,template");class zO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!zf.hasOwnProperty(t))return this.sanitizedSomething=!0,!$O.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!zC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Gf[a]&&(l=ec(l)),this.buf.push(" ",s,'="',GC(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();zf.hasOwnProperty(t)&&!HC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(GC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const GO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,WO=/([^\#-~ |!])/g;function GC(n){return n.replace(/&/g,"&amp;").replace(GO,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(WO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tc;function WC(n,e){let t=null;try{tc=tc||function UC(n){const e=new UO(n);return function HO(){try{return!!(new window.DOMParser).parseFromString(zi(""),"text/html")}catch{return!1}}()?new BO(e):e}(n);let r=e?String(e):"";t=tc.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=tc.getInertBodyElement(r)}while(r!==o);return zi((new zO).sanitizeChildren(Wf(t)||t))}finally{if(t){const r=Wf(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Wf(n){return"content"in n&&function qO(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var qt=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(qt||{});function nc(n){const e=bs();return e?e.sanitize(qt.URL,n)||"":En(n,"URL")?Pt(n):ec(B(n))}function qC(n){const e=bs();if(e)return BC(e.sanitize(qt.RESOURCE_URL,n)||"");if(En(n,"ResourceURL"))return BC(Pt(n));throw new E(904,!1)}function bs(){const n=C();return n&&n[Di].sanitizer}const Ds=new S("ENVIRONMENT_INITIALIZER"),KC=new S("INJECTOR",-1),YC=new S("INJECTOR_DEF_TYPES");class qf{get(e,t=Xo){if(t===Xo){const r=new Error(`NullInjectorError: No provider for ${Be(e)}!`);throw r.name="NullInjectorError",r}return t}}function eP(...n){return{\u0275providers:ZC(0,n),\u0275fromNgModule:!0}}function ZC(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Bi(e,s=>{const a=s;rc(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&XC(i,o),t}function XC(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Kf(i,o=>{e(o,r)})}}function rc(n,e,t,r){if(!(n=L(n)))return!1;let i=null,o=hl(n);const s=!o&&J(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=hl(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)rc(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Bi(o.imports,u=>{rc(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&XC(c,e)}if(!a){const c=Hr(i)||(()=>new i);e({provide:i,useFactory:c,deps:Y},i),e({provide:YC,useValue:i,multi:!0},i),e({provide:Ds,useValue:()=>x(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=n;Kf(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function Kf(n,e){for(let t of n)Fd(t)&&(t=t.\u0275providers),Array.isArray(t)?Kf(t,e):e(t)}const tP=te({provide:String,useValue:te});function Yf(n){return null!==n&&"object"==typeof n&&tP in n}function Wr(n){return"function"==typeof n}const Zf=new S("Set Injector scope."),ic={},rP={};let Xf;function oc(){return void 0===Xf&&(Xf=new qf),Xf}class Ft{}class Wi extends Ft{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,eh(e,s=>this.processProvider(s)),this.records.set(KC,qi(void 0,this)),i.has("environment")&&this.records.set(Ft,qi(void 0,this));const o=this.records.get(Zf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(YC.multi,Y,W.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ur(this),r=_t(void 0);try{return e()}finally{ur(t),_t(r)}}get(e,t=Xo,r=W.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(B_))return e[B_](this);r=ml(r);const o=ur(this),s=_t(void 0);try{if(!(r&W.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function lP(n){return"function"==typeof n||"object"==typeof n&&n instanceof S}(e)&&fl(e);l=c&&this.injectableDefInScope(c)?qi(Qf(e),ic):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&W.Self?oc():this.parent).get(e,t=r&W.Optional&&t===Xo?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[gl]=a[gl]||[]).unshift(Be(e)),o)throw a;return function tk(n,e,t,r){const i=n[gl];throw e[F_]&&i.unshift(e[F_]),n.message=function nk(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Be(e);if(Array.isArray(e))i=e.map(Be).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Be(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Y1,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[gl]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{_t(s),ur(o)}}resolveInjectorInitializers(){const e=ur(this),t=_t(void 0);try{const i=this.get(Ds.multi,Y,W.Self);for(const o of i)o()}finally{ur(e),_t(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Be(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){let t=Wr(e=L(e))?e:L(e&&e.provide);const r=function oP(n){return Yf(n)?qi(void 0,n.useValue):qi(function tE(n,e,t){let r;if(Wr(n)){const i=L(n);return Hr(i)||Qf(i)}if(Yf(n))r=()=>L(n.useValue);else if(function eE(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Gd(n.deps||[]));else if(function QC(n){return!(!n||!n.useExisting)}(n))r=()=>x(L(n.useExisting));else{const i=L(n&&(n.useClass||n.provide));if(!function sP(n){return!!n.deps}(n))return Hr(i)||Qf(i);r=()=>new i(...Gd(n.deps))}return r}(n),ic)}(e);if(Wr(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=qi(void 0,ic,!0),i.factory=()=>Gd(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===ic&&(t.value=rP,t.value=t.factory()),"object"==typeof t.value&&t.value&&function aP(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=L(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Qf(n){const e=fl(n),t=null!==e?e.factory:Hr(n);if(null!==t)return t;if(n instanceof S)throw new E(204,!1);if(n instanceof Function)return function iP(n){const e=n.length;if(e>0)throw function vs(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new E(204,!1);const t=function W1(n){return n&&(n[pl]||n[k_])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new E(204,!1)}function qi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function eh(n,e){for(const t of n)Array.isArray(t)?eh(t,e):t&&Fd(t)?eh(t.\u0275providers,e):e(t)}const sc=new S("AppId",{providedIn:"root",factory:()=>cP}),cP="ng",nE=new S("Platform Initializer"),qr=new S("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rE=new S("CSP nonce",{providedIn:"root",factory:()=>function Gi(){if(void 0!==jf)return jf;if(typeof document<"u")return document;throw new E(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let iE=(n,e,t)=>null;function lh(n,e,t=!1){return iE(n,e,t)}class _P{}class aE{}class CP{resolveComponentFactory(e){throw function wP(n){const e=Error(`No component factory found for ${Be(n)}.`);return e.ngComponent=n,e}(e)}}let fc=(()=>{class n{static#e=this.NULL=new CP}return n})();function EP(){return Yi(qe(),C())}function Yi(n,e){return new Lt(Ct(n,e))}let Lt=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=EP}return n})();class cE{}let jn=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function bP(){const n=C(),t=Rt(qe().index,n);return(wt(t)?t:n)[U]}()}return n})(),DP=(()=>{class n{static#e=this.\u0275prov=A({token:n,providedIn:"root",factory:()=>null})}return n})();class xs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const SP=new xs("16.2.12"),dh={};function hE(n,e=null,t=null,r){const i=pE(n,e,t,r);return i.resolveInjectorInitializers(),i}function pE(n,e=null,t=null,r,i=new Set){const o=[t||Y,eP(n)];return r=r||("object"==typeof n?void 0:Be(n)),new Wi(o,e||oc(),r||null,i)}let It=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Xo;static#t=this.NULL=new qf;static create(t,r){if(Array.isArray(t))return hE({name:""},r,t,"");{const i=t.name??"";return hE({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=A({token:n,providedIn:"any",factory:()=>x(KC)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function hh(n){return n.ngOriginalError}class $n{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&hh(e);for(;t&&hh(t);)t=hh(t);return t||null}}function gh(n){return e=>{setTimeout(n,void 0,e)}}const _e=class RP extends tn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=gh(o),i&&(i=gh(i)),s&&(s=gh(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Tt&&e.add(a),a}};function mE(...n){}class fe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _e(!1),this.onMicrotaskEmpty=new _e(!1),this.onStable=new _e(!1),this.onError=new _e(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function OP(){const n="function"==typeof ue.requestAnimationFrame;let e=ue[n?"requestAnimationFrame":"setTimeout"],t=ue[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function LP(n){const e=()=>{!function FP(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ue,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vh(n),n.isCheckStableRunning=!0,mh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function BP(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return vE(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),yE(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return vE(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),yE(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,vh(n),mh(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fe.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(fe.isInAngularZone())throw new E(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,PP,mE,mE);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const PP={};function mh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function vE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yE(n){n._nesting--,mh(n)}class VP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _e,this.onMicrotaskEmpty=new _e,this.onStable=new _e,this.onError=new _e}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const _E=new S("",{providedIn:"root",factory:wE});function wE(){const n=T(fe);let e=!0;return function F1(...n){const e=Zo(n),t=function M1(n,e){return"number"==typeof kd(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?xt(r[0]):Ci(t)(Ve(r,e)):pn}(new xe(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new xe(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{fe.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(M_()))}function zn(n){return n instanceof Function?n():n}let yh=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=A({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ms(n){for(;n;){n[$]|=64;const e=ws(n);if(Zd(n)&&!e)return n;n=e}return null}const DE=new S("",{providedIn:"root",factory:()=>!1});let pc=null;function ME(n,e){return n[e]??kE()}function AE(n,e){const t=kE();t.producerNode?.length&&(n[e]=pc,t.lView=n,pc=NE())}const KP={...nw,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Ms(n.lView)},lView:null};function NE(){return Object.create(KP)}function kE(){return pc??=NE(),pc}const H={};function se(n){RE(K(),C(),lt()+n,!1)}function RE(n,e,t,r){if(!r)if(3==(3&e[$])){const o=n.preOrderCheckHooks;null!==o&&Ml(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Al(e,o,0,t)}jr(t)}function w(n,e=W.Default){const t=C();return null===t?x(n,e):qw(qe(),t,L(n),e)}function gc(n,e,t,r,i,o,s,a,l,c,u){const d=e.blueprint.slice();return d[De]=i,d[$]=140|r,(null!==c||n&&2048&n[$])&&(d[$]|=2048),Ew(d),d[ye]=d[Si]=n,d[Me]=t,d[Di]=s||n&&n[Di],d[U]=a||n&&n[U],d[dr]=l||n&&n[dr]||null,d[Ke]=o,d[ss]=function XR(){return ZR++}(),d[Vn]=u,d[X_]=c,d[Ae]=2==e.type?n[Ae]:d,d}function Qi(n,e,t,r,i){let o=n.data[e];if(null===o)o=function _h(n,e,t,r,i){const o=xw(),s=af(),l=n.data[e]=function rF(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Ni(){return null!==O.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,r,i),function Qk(){return O.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function ds(){const n=O.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return wn(o,!0),o}function As(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function PE(n,e,t,r,i){const o=ME(e,as),s=lt(),a=2&r;try{jr(-1),a&&e.length>q&&RE(n,e,q,!1),_n(a?2:0,i);const c=a?o:null,u=Qd(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{ef(c,u)}}finally{a&&null===e[as]&&AE(e,as),jr(s),_n(a?3:1,i)}}function wh(n,e,t){if(Yd(e)){const r=zt(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{zt(r)}}}function Ch(n,e,t){Tw()&&(function uF(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Ur(t)&&function vF(n,e,t){const r=Ct(e,n),i=FE(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=mc(n,gc(n,i,null,s,r,e,null,n[Di].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||kl(t,e),Ye(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=$r(e,n,a,t);Ye(c,e),null!==s&&yF(0,a-i,c,l,0,s),an(l)&&(Rt(t.index,e)[Me]=$r(e,n,a,t))}}(n,e,t,Ct(t,e)),64==(64&t.flags)&&HE(n,e,t))}function Eh(n,e,t=Ct){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function FE(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Ih(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ih(n,e,t,r,i,o,s,a,l,c,u){const d=q+r,f=d+i,h=function ZP(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:H);return t}(d,f),p="function"==typeof c?c():c;return h[D]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let LE=n=>null;function VE(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?BE(t,e,i,o):r.hasOwnProperty(i)&&BE(t,e,r[i],o)}return t}function BE(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Vt(n,e,t,r,i,o,s,a){const l=Ct(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(xh(n,t,u,r,i),Ur(e)&&function sF(n,e){const t=Rt(e,n);16&t[$]||(t[$]|=64)}(t,e.index)):3&e.type&&(r=function oF(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function bh(n,e,t,r){if(Tw()){const i=null===r?null:{"":-1},o=function fF(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(W_(e,s.selectors,!1))if(r||(r=[]),an(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Dh(n,e,a.length)}else r.unshift(s),Dh(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&UE(n,e,t,s,i,a),i&&function hF(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new E(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=ts(t.mergedAttrs,t.attrs)}function UE(n,e,t,r,i,o){for(let c=0;c<r.length;c++)Cf(kl(t,e),n,r[c].type);!function gF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=As(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=ts(t.mergedAttrs,u.hostAttrs),mF(n,t,e,l,u),pF(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function iF(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],f=t?t.get(d):null,p=f?f.outputs:null;l=VE(d.inputs,u,l,f?f.inputs:null),c=VE(d.outputs,u,c,p);const g=null===l||null===s||G_(e)?null:_F(l,u,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function HE(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function tR(){return O.lFrame.currentDirectiveIndex}();try{jr(o);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];cf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&dF(l,c)}}finally{jr(-1),cf(s)}}function dF(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Dh(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function pF(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;an(e)&&(t[""]=n)}}function mF(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Hr(i.type)),s=new fs(o,an(i),w);n.blueprint[r]=s,t[r]=s,function lF(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function cF(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,As(n,t,i.hostVars,H),i)}function In(n,e,t,r,i,o){const s=Ct(n,e);!function Sh(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?B(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[U],s,o,n.value,t,r,i)}function yF(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)jE(r,t,s[a++],s[a++],s[a++])}function jE(n,e,t,r,i){const o=zt(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{zt(o)}}function _F(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $E(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function zE(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];df(t[r]),s.contentQueries(2,e[o],o)}}}function mc(n,e){return n[rs]?n[Z_][sn]=e:n[rs]=e,n[Z_]=e,e}function Th(n,e,t){df(0);const r=zt(null);try{e(n,t)}finally{zt(r)}}function JE(n,e){const t=n[dr],r=t?t.get($n,null):null;r&&r.handleError(e)}function xh(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];jE(n.data[s],e[s],r,a,i)}}function wF(n,e){const t=Rt(e,n),r=t[D];!function CF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[De];null!==i&&null===t[Vn]&&(t[Vn]=lh(i,t[dr])),Mh(r,t,t[Me])}function Mh(n,e,t){ff(e);try{const r=n.viewQuery;null!==r&&Th(1,r,t);const i=n.template;null!==i&&PE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&zE(n,e),n.staticViewQueries&&Th(2,n.viewQuery,t);const o=n.components;null!==o&&function EF(n,e){for(let t=0;t<e.length;t++)wF(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[$]&=-5,hf()}}let KE=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function Nk(n,e,t){const r=Object.create(kk);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>sw(r),run:()=>{if(r.dirty=!1,r.hasRun&&!aw(r))return;r.hasRun=!0;const s=Qd(r);try{r.cleanupFn(),r.cleanupFn=gw,r.fn(i)}finally{ef(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=A({token:n,providedIn:"root",factory:()=>new n})}return n})();function vc(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Od(i,a):2==o&&(r=Od(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ns(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(de(o)),st(o)&&YE(o,r);const s=t.type;if(8&s)Ns(n,e,t.child,r);else if(32&s){const a=Rf(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=kC(e,t);if(Array.isArray(a))r.push(...a);else{const l=ws(e[Ae]);Ns(l[D],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function YE(n,e){for(let t=Ge;t<n.length;t++){const r=n[t],i=r[D].firstChild;null!==i&&Ns(r[D],r,i,e)}n[yn]!==n[De]&&e.push(n[yn])}function yc(n,e,t,r=!0){const i=e[Di],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{ZE(n,e,n.template,t)}catch(l){throw r&&JE(e,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function ZE(n,e,t,r){const i=e[$];if(256!=(256&i)){e[Di].effectManager?.flush(),ff(e);try{Ew(e),function Aw(n){return O.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&PE(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&Ml(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Al(e,c,0,null),mf(e,0)}if(function DF(n){for(let e=wC(n);null!==e;e=CC(e)){if(!e[Q_])continue;const t=e[xi];for(let r=0;r<t.length;r++){jk(t[r])}}}(e),XE(e,2),null!==n.contentQueries&&zE(n,e),s){const c=n.contentCheckHooks;null!==c&&Ml(e,c)}else{const c=n.contentHooks;null!==c&&Al(e,c,1),mf(e,1)}!function YP(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=ME(e,ls);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)jr(~o);else{const s=o,a=t[++i],l=t[++i];eR(a,s),r.dirty=!1;const c=Qd(r);try{l(2,e[s])}finally{ef(r,c)}}}}finally{null===e[ls]&&AE(e,ls),jr(-1)}}(n,e);const a=n.components;null!==a&&eI(e,a,0);const l=n.viewQuery;if(null!==l&&Th(2,l,r),s){const c=n.viewCheckHooks;null!==c&&Ml(e,c)}else{const c=n.viewHooks;null!==c&&Al(e,c,2),mf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[$]&=-73,Iw(e)}finally{hf()}}}function XE(n,e){for(let t=wC(n);null!==t;t=CC(t))for(let r=Ge;r<t.length;r++)QE(t[r],e)}function SF(n,e,t){QE(Rt(e,n),t)}function QE(n,e){if(!function Uk(n){return 128==(128&n[$])}(n))return;const t=n[D],r=n[$];if(80&r&&0===e||1024&r||2===e)ZE(t,n,t.template,n[Me]);else if(n[ns]>0){XE(n,1);const i=t.components;null!==i&&eI(n,i,1)}}function eI(n,e,t){for(let r=0;r<e.length;r++)SF(n,e[r],t)}class ks{get rootNodes(){const e=this._lView,t=e[D];return Ns(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Me]}set context(e){this._lView[Me]=e}get destroyed(){return 256==(256&this._lView[$])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ye];if(st(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Jl(e,r),Fl(t,r))}this._attachedToViewContainer=!1}Pf(this._lView[D],this._lView)}onDestroy(e){!function Dw(n,e){if(256==(256&n[$]))throw new E(911,!1);null===n[fr]&&(n[fr]=[]),n[fr].push(e)}(this._lView,e)}markForCheck(){Ms(this._cdRefInjectingView||this._lView)}detach(){this._lView[$]&=-129}reattach(){this._lView[$]|=128}detectChanges(){yc(this._lView[D],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fO(n,e){Es(n,e,e[U],2,null,null)}(this._lView[D],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e}}class TF extends ks{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;yc(e[D],e,e[Me],!1)}checkNoChanges(){}get context(){return null}}class tI extends fc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=J(e);return new Rs(t,this.ngModule)}}function nI(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class MF{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ml(r);const i=this.injector.get(e,dh,r);return i!==dh||t===dh?i:this.parentInjector.get(e,t,r)}}class Rs extends aE{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=nI(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return nI(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function fk(n){return n.map(dk).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Ft?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new MF(e,o):e,a=s.get(cE,null);if(null===a)throw new E(407,!1);const d={rendererFactory:a,sanitizer:s.get(DP,null),effectManager:s.get(KE,null),afterRenderEventManager:s.get(yh,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function XP(n,e,t,r){const o=r.get(DE,!1)||t===rn.ShadowDom,s=n.selectRootElement(e,o);return function QP(n){LE(n)}(s),s}(f,r,this.componentDef.encapsulation,s):ql(f,h,function xF(n){const e=n.toLowerCase();return"svg"===e?_w:"math"===e?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=lh(p,s,!0));const b=Ih(0,null,null,1,0,null,null,null,null,null,null),N=gc(null,b,null,_,null,null,d,f,s,null,y);let G,Te;ff(N);try{const jt=this.componentDef;let ar,wi=null;jt.findHostDirectiveDefs?(ar=[],wi=new Map,jt.findHostDirectiveDefs(jt,ar,wi),ar.push(jt)):ar=[jt];const n_=function NF(n,e){const t=n[D],r=q;return n[r]=e,Qi(t,r,2,"#host",null)}(N,p),nK=function kF(n,e,t,r,i,o,s){const a=i[D];!function RF(n,e,t,r){for(const i of n)e.mergedAttrs=ts(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(vc(e,e.mergedAttrs,!0),null!==t&&FC(r,t,e))}(r,n,e,s);let l=null;null!==e&&(l=lh(e,i[dr]));const c=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=gc(i,FE(t),null,u,i[n.index],n,o,c,null,null,l);return a.firstCreatePass&&Dh(a,n,r.length-1),mc(i,d),i[n.index]=d}(n_,p,jt,ar,N,d,f);Te=Cw(b,q),p&&function PF(n,e,t,r){if(r)Jd(n,t,["ng-version",SP.full]);else{const{attrs:i,classes:o}=function hk(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!on(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Jd(n,t,i),o&&o.length>0&&PC(n,t,o.join(" "))}}(f,jt,p,r),void 0!==t&&function FF(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(Te,this.ngContentSelectors,t),G=function OF(n,e,t,r,i,o){const s=qe(),a=i[D],l=Ct(s,i);UE(a,i,s,t,null,r);for(let u=0;u<t.length;u++)Ye($r(i,a,s.directiveStart+u,s),i);HE(a,i,s),l&&Ye(l,i);const c=$r(i,a,s.directiveStart+s.componentOffset,s);if(n[Me]=i[Me]=c,null!==o)for(const u of o)u(c,e);return wh(a,s,n),c}(nK,jt,ar,wi,N,[LF]),Mh(b,N,null)}finally{hf()}return new AF(this.componentType,G,Yi(Te,N),N,Te)}}class AF extends _P{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new TF(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;xh(o[D],o,i,e,t),this.previousInputValues.set(e,t),Ms(Rt(this._tNode.index,o))}}get injector(){return new ct(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function LF(){const n=qe();xl(C()[D],n)}function aI(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function wc(n){return!!function Ah(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function bn(n,e,t){return n[e]=t}function Ze(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Dn(n,e,t,r){const i=C();return Ze(i,ki(),e)&&(K(),In(Ee(),i,n,e,t,r)),Dn}function to(n,e,t,r){return Ze(n,ki(),t)?e+B(t)+r:H}function vr(n,e,t,r,i,o,s,a){const l=C(),c=K(),u=n+q,d=c.firstCreatePass?function fL(n,e,t,r,i,o,s,a,l){const c=e.consts,u=Qi(e,n,4,s||null,pr(c,a));bh(e,t,u,pr(c,l)),xl(e,u);const d=u.tView=Ih(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,o,s):c.data[u];wn(d,!1);const f=wI(c,l,d,n);Tl()&&Yl(c,l,f,d),Ye(f,l),mc(l,l[u]=$E(f,l,f,d)),Cl(d)&&Ch(c,l,d),null!=s&&Eh(l,d,a)}let wI=function CI(n,e,t,r){return gr(!0),e[U].createComment("")};function ut(n,e,t){const r=C();return Ze(r,ki(),e)&&Vt(K(),Ee(),r,n,e,r[U],t,!1),ut}function Fh(n,e,t,r,i){const s=i?"class":"style";xh(n,t,e.inputs[s],s,r)}function P(n,e,t,r){const i=C(),o=K(),s=q+n,a=i[U],l=o.firstCreatePass?function vL(n,e,t,r,i,o){const s=e.consts,l=Qi(e,n,2,r,pr(s,i));return bh(e,t,l,pr(s,o)),null!==l.attrs&&vc(l,l.attrs,!1),null!==l.mergedAttrs&&vc(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,t,r):o.data[s],c=EI(o,i,l,a,e,n);i[s]=c;const u=Cl(l);return wn(l,!0),FC(a,c,l),32!=(32&l.flags)&&Tl()&&Yl(o,i,c,l),0===function zk(){return O.lFrame.elementDepthCount}()&&Ye(c,i),function Gk(){O.lFrame.elementDepthCount++}(),u&&(Ch(o,i,l),wh(o,l,i)),null!==r&&Eh(i,l),P}function F(){let n=qe();af()?function lf(){O.lFrame.isParent=!1}():(n=n.parent,wn(n,!1));const e=n;(function qk(n){return O.skipHydrationRootTNode===n})(e)&&function Zk(){O.skipHydrationRootTNode=null}(),function Wk(){O.lFrame.elementDepthCount--}();const t=K();return t.firstCreatePass&&(xl(t,n),Yd(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function uR(n){return 0!=(8&n.flags)}(e)&&Fh(t,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function dR(n){return 0!=(16&n.flags)}(e)&&Fh(t,e,C(),e.stylesWithoutHost,!1),F}function Sn(n,e,t,r){return P(n,e,t,r),F(),Sn}let EI=(n,e,t,r,i,o)=>(gr(!0),ql(r,i,function Vw(){return O.lFrame.currentNamespace}()));function Bh(){return C()}function Vs(n){return!!n&&"function"==typeof n.then}function DI(n){return!!n&&"function"==typeof n.subscribe}function he(n,e,t,r){const i=C(),o=K(),s=qe();return function TI(n,e,t,r,i,o,s){const a=Cl(r),c=n.firstCreatePass&&function WE(n){return n.cleanup||(n.cleanup=[])}(n),u=e[Me],d=function GE(n){return n[bi]||(n[bi]=[])}(e);let f=!0;if(3&r.type||s){const g=Ct(r,e),m=s?s(g):g,_=d.length,y=s?N=>s(de(N[r.index])):r.index;let b=null;if(!s&&a&&(b=function IL(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[bi],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,f=!1;else{o=MI(r,e,u,o,!1);const N=t.listen(m,i,o);d.push(o,N),c&&c.push(i,y,_,_+1)}}else o=MI(r,e,u,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const G=e[p[m]][p[m+1]].subscribe(o),Te=d.length;d.push(o,G),c&&c.push(i,r.index,Te,-(Te+1))}}}(o,i,i[U],s,n,e,r),he}function xI(n,e,t,r){try{return _n(6,e,t),!1!==t(r)}catch(i){return JE(n,i),!1}finally{_n(7,e,t)}}function MI(n,e,t,r,i){return function o(s){if(s===Function)return r;Ms(n.componentOffset>-1?Rt(n.index,e):e);let l=xI(e,t,r,s),c=o.__ngNextListenerFn__;for(;c;)l=xI(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function co(n=1){return function rR(n){return(O.lFrame.contextLView=function iR(n,e){for(;n>0;)e=e[Si],n--;return e}(n,O.lFrame.contextLView))[Me]}(n)}function Uh(n,e,t){return Bs(n,"",e,"",t),Uh}function Bs(n,e,t,r,i){const o=C(),s=to(o,e,t,r);return s!==H&&Vt(K(),Ee(),o,n,s,o[U],i,!1),Bs}function Dc(n,e){return n<<17|e<<2}function yr(n){return n>>17&32767}function Hh(n){return 2|n}function Kr(n){return(131068&n)>>2}function jh(n,e){return-131069&n|e<<2}function $h(n){return 1|n}function VI(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?yr(o):Kr(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];kL(n[a],e)&&(l=!0,n[a+1]=r?$h(u):Hh(u)),a=r?yr(u):Kr(u)}l&&(n[t+1]=r?Hh(o):$h(o))}function kL(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ui(n,e)>=0}const He={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BI(n){return n.substring(He.key,He.keyEnd)}function UI(n,e){const t=He.textEnd;return t===e?-1:(e=He.keyEnd=function FL(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,He.key=e,t),uo(n,e,t))}function uo(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function xn(n,e){for(let t=function OL(n){return function jI(n){He.key=0,He.keyEnd=0,He.value=0,He.valueEnd=0,He.textEnd=n.length}(n),UI(n,uo(n,0,He.textEnd))}(e);t>=0;t=UI(e,t))Ot(n,BI(e),!0)}function cn(n,e,t,r){const i=K(),o=function Un(n){const e=O.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);i.firstUpdatePass&&function qI(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[lt()],s=WI(n,t);ZI(o,r)&&null===e&&!s&&(e=!1),e=function HL(n,e,t,r){const i=function uf(n){const e=O.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Us(t=zh(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=zh(i,n,e,t,r),null===o){let l=function jL(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Kr(r))return n[yr(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=zh(null,n,e,l[1],r),l=Us(l,e.attrs,r),function $L(n,e,t,r){n[yr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function zL(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Us(r,n[o].hostAttrs,t);return Us(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function AL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=yr(s),l=Kr(s);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Ui(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const f=yr(n[a+1]);n[r+1]=Dc(f,a),0!==f&&(n[f+1]=jh(n[f+1],r)),n[a+1]=function xL(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Dc(a,0),0!==a&&(n[a+1]=jh(n[a+1],r)),a=r;else n[r+1]=Dc(l,0),0===a?a=r:n[l+1]=jh(n[l+1],r),l=r;c&&(n[r+1]=Hh(n[r+1])),VI(n,u,r,!0),VI(n,u,r,!1),function NL(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ui(o,e)>=0&&(t[r+1]=$h(t[r+1]))}(e,u,n,r,o),s=Dc(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(i,null,o,r);const s=C();if(t!==H&&Ze(s,o,t)){const a=i.data[lt()];if(ZI(a,r)&&!WI(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Od(l,t||"")),Fh(i,a,s,t,r)}else!function qL(n,e,t,r,i,o,s,a){i===H&&(i=Y);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const f=l<i.length?i[l+1]:void 0,h=c<o.length?o[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,f!==h&&(p=d,g=h)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=h),null!==p&&KI(n,e,t,r,p,g,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}(i,a,s,s[U],s[o+1],s[o+1]=function GL(n,e,t){if(null==t||""===t)return Y;const r=[],i=Pt(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}function WI(n,e){return e>=n.expandoStartIndex}function zh(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Us(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Us(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ot(n,s,!!t||e[++o]))}return void 0===n?null:n}function KI(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function ML(n){return 1==(1&n)}(c)?YI(l,e,t,i,Kr(c),s):void 0;Tc(u)||(Tc(o)||function TL(n){return 2==(2&n)}(c)&&(o=YI(l,null,t,i,a,s)),function EO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:mr.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mr.Important),n.setStyle(t,r,i,o))}}(r,s,bl(lt(),t),i,o))}function YI(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=t[i+1];f===H&&(f=d?Y:void 0);let h=d?bf(f,r):u===r?f:void 0;if(c&&!Tc(h)&&(h=bf(l,r)),Tc(h)&&(a=h,s))return a;const p=n[i+1];i=s?yr(p):Kr(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=bf(l,r))}return a}function Tc(n){return void 0!==n}function ZI(n,e){return 0!=(n.flags&(e?8:16))}function oe(n,e=""){const t=C(),r=K(),i=n+q,o=r.firstCreatePass?Qi(r,i,1,e,null):r.data[i],s=XI(r,t,o,e,n);t[i]=s,Tl()&&Yl(r,t,s,o),wn(o,!1)}let XI=(n,e,t,r,i)=>(gr(!0),function Wl(n,e){return n.createText(e)}(e[U],r));function Kt(n){return fo("",n,""),Kt}function fo(n,e,t){const r=C(),i=to(r,n,e,t);return i!==H&&function Gn(n,e,t){const r=bl(e,n);!function IC(n,e,t){n.setValue(e,t)}(n[U],r,t)}(r,lt(),i),fo}const po="en-US";let Cb=po;class Zr{}class qb{}class Zh extends Zr{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tI(this);const i=kt(e);this._bootstrapComponents=zn(i.bootstrap),this._r3Injector=pE(e,t,[{provide:Zr,useValue:this},{provide:fc,useValue:this.componentFactoryResolver},...r],Be(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Xh extends qb{constructor(e){super(),this.moduleType=e}create(e){return new Zh(this.moduleType,e,[])}}class Jb extends Zr{constructor(e){super(),this.componentFactoryResolver=new tI(this),this.instance=null;const t=new Wi([...e.providers,{provide:Zr,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],e.parent||oc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Qh(n,e,t=null){return new Jb({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let vV=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=ZC(0,t.type),i=r.length>0?Qh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=A({token:n,providedIn:"environment",factory:()=>new n(x(Ft))})}return n})();function Kb(n){n.getStandaloneInjector=e=>e.get(vV).getOrCreateStandaloneInjector(n)}function rD(n,e,t,r){return function iD(n,e,t,r,i,o){const s=e+t;return Ze(n,s,i)?bn(n,s+1,o?r.call(o,i):r(i)):function Ws(n,e){const t=n[e];return t===H?void 0:t}(n,s+1)}(C(),at(),n,e,t,r)}function $V(n,e,t,r=!0){const i=e[D];if(function pO(n,e,t,r){const i=Ge+r,o=t.length;r>0&&(t[i-1][sn]=e),r<o-Ge?(e[sn]=t[i],Qw(t,Ge+r,e)):(t.push(e),e[sn]=null),e[ye]=t;const s=e[is];null!==s&&t!==s&&function gO(n,e){const t=n[xi];e[Ae]!==e[ye][ye][Ae]&&(n[Q_]=!0),null===t?n[xi]=[e]:t.push(e)}(s,e);const a=e[vn];null!==a&&a.insertView(n),e[$]|=128}(i,e,n,t),r){const o=Bf(t,n),s=e[U],a=Kl(s,n[yn]);null!==a&&function dO(n,e,t,r,i,o){r[De]=i,r[Ke]=e,Es(n,r,t,1,i,o)}(i,n[Ke],s,e,a,o)}}Symbol;let Wn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=WV}return n})();const zV=Wn,GV=class extends zV{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function jV(n,e,t,r){const i=e.tView,a=gc(n,i,t,4096&n[$]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[is]=n[e.index];const c=n[vn];return null!==c&&(a[vn]=c.createEmbeddedView(i)),Mh(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new ks(i)}};function WV(){return function kc(n,e){return 4&n.type?new GV(e,n,Yi(n,e)):null}(qe(),C())}let un=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=XV}return n})();function XV(){return function gD(n,e){let t;const r=e[n.index];return st(r)?t=r:(t=$E(r,e,null,n),e[n.index]=t,mc(e,t)),mD(t,e,n,r),new hD(t,n,e)}(qe(),C())}const QV=un,hD=class extends QV{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Yi(this._hostTNode,this._hostLView)}get injector(){return new ct(this._hostTNode,this._hostLView)}get parentInjector(){const e=Rl(this._hostTNode,this._hostLView);if(yf(e)){const t=ps(e,this._hostLView),r=hs(e);return new ct(t[D].data[r+8],t)}return new ct(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=pD(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ge}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,o){const s=e&&!function ms(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?e:new Rs(J(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const m=(s?c:this.parentInjector).get(Ft,null);m&&(o=m)}J(l.componentType??{});const h=l.create(c,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Hk(n){return st(n[ye])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[ye],u=new hD(c,c[Ke],c[ye]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return $V(a,i,s,!r),e.attachToViewContainerRef(),Qw(np(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=pD(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Jl(this._lContainer,t);r&&(Fl(np(this._lContainer),t),Pf(r[D],r))}detach(e){const t=this._adjustIndex(e,-1),r=Jl(this._lContainer,t);return r&&null!=Fl(np(this._lContainer),t)?new ks(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function pD(n){return n[8]}function np(n){return n[8]||(n[8]=[])}let mD=function vD(n,e,t,r){if(n[yn])return;let i;i=8&t.type?de(r):function eB(n,e){const t=n[U],r=t.createComment(""),i=Ct(e,n);return zr(t,Kl(t,i),r,function _O(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[yn]=i};const hp=new S("Application Initializer");let pp=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=T(hp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(Vs(o))t.push(o);else if(DI(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jD=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const qn=new S("LocaleId",{providedIn:"root",factory:()=>T(qn,W.Optional|W.SkipSelf)||function NB(){return typeof $localize<"u"&&$localize.locale||po}()});let Pc=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mt(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class OB{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let $D=(()=>{class n{compileModuleSync(t){return new Xh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=zn(kt(t).declarations).reduce((s,a)=>{const l=J(a);return l&&s.push(new Rs(l)),s},[]);return new OB(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qD=new S(""),Lc=new S("");let _p,vp=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_p||(function nU(n){_p=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(x(fe),x(yp),x(Lc))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),yp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return _p?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),_r=null;const JD=new S("AllowMultipleToken"),wp=new S("PlatformDestroyListeners"),Cp=new S("appBootstrapListener");class YD{constructor(e,t){this.name=e,this.token=t}}function XD(n,e,t=[]){const r=`Platform: ${e}`,i=new S(r);return(o=[])=>{let s=Ep();if(!s||s.injector.get(JD,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function oU(n){if(_r&&!_r.get(JD,!1))throw new E(400,!1);(function KD(){!function Sk(n){dw=n}(()=>{throw new E(600,!1)})})(),_r=n;const e=n.get(e0);(function ZD(n){n.get(nE,null)?.forEach(t=>t())})(n)}(function QD(n=[],e){return It.create({name:e,providers:[{provide:Zf,useValue:"platform"},{provide:wp,useValue:new Set([()=>_r=null])},...n]})}(a,r))}return function aU(n){const e=Ep();if(!e)throw new E(401,!1);return e}()}}function Ep(){return _r?.get(e0)??null}let e0=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function lU(n="zone.js",e){return"noop"===n?new VP:"zone.js"===n?new fe(e):n}(r?.ngZone,function t0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function mV(n,e,t){return new Zh(n,e,t)}(t.moduleType,this.injector,function a0(n){return[{provide:fe,useFactory:n},{provide:Ds,multi:!0,useFactory:()=>{const e=T(uU,{optional:!0});return()=>e.initialize()}},{provide:s0,useFactory:cU},{provide:_E,useFactory:wE}]}(()=>i)),s=o.injector.get($n,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Vc(this._modules,o),a.unsubscribe()})}),function n0(n,e,t){try{const r=t();return Vs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(pp);return a.runInitializers(),a.donePromise.then(()=>(function Eb(n){$t(n,"Expected localeId to be defined"),"string"==typeof n&&(Cb=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(qn,po)||po),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=r0({},r);return function rU(n,e,t){const r=new Xh(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(vo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new E(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(wp,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(x(It))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function r0(n,e){return Array.isArray(e)?e.reduce(r0,n):{...n,...e}}let vo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=T(s0),this.zoneIsStable=T(_E),this.componentTypes=[],this.components=[],this.isStable=T(Pc).hasPendingTasks.pipe(nn(t=>t?k(!1):this.zoneIsStable),function L1(n,e=lr){return n=n??V1,Le((t,r)=>{let i,o=!0;t.subscribe(Re(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),M_()),this._injector=T(Ft)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof aE;if(!this._injector.get(pp).done)throw!i&&function Ii(n){const e=J(n)||ze(n)||ot(n);return null!==e&&e.standalone}(t),new E(405,!1);let s;s=i?t:this._injector.get(fc).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function iU(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Zr),c=s.create(It.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(qD,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Vc(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Vc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Cp,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Vc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const s0=new S("",{providedIn:"root",factory:()=>T($n).handleError.bind(void 0)});function cU(){const n=T(fe),e=T($n);return t=>n.runOutsideAngular(()=>e.handleError(t))}let uU=(()=>{class n{constructor(){this.zone=T(fe),this.applicationRef=T(vo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Bc=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=fU}return n})();function fU(n){return function hU(n,e,t){if(Ur(n)&&!t){const r=Rt(n.index,e);return new ks(r,r)}return 47&n.type?new ks(e[Ae],e):null}(qe(),C(),16==(16&n))}class d0{constructor(){}supports(e){return wc(e)}create(e){return new _U(e)}}const yU=(n,e)=>e;class _U{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yU}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<h0(r,i,o)?t:r,a=h0(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!wc(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function JF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new wU(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new f0),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new f0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class wU{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CU{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class f0{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new CU,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function h0(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function g0(){return new jc([new d0])}let jc=(()=>{class n{static#e=this.\u0275prov=A({token:n,providedIn:"root",factory:g0});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||g0()),deps:[[n,new Bl,new Vl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new E(901,!1)}}return n})();const SU=XD(null,"core",[]);let TU=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(x(vo))};static#t=this.\u0275mod=Nt({type:n});static#n=this.\u0275inj=yt({})}return n})();function yo(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let xp=null;function wr(){return xp}class HU{}const ht=new S("DocumentToken");let Mp=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:function(){return T($U)},providedIn:"platform"})}return n})();const jU=new S("Location Initialized");let $U=(()=>{class n extends Mp{constructor(){super(),this._doc=T(ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(t){const r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Ap(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function D0(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Jn(n){return n&&"?"!==n[0]?"?"+n:n}let Qr=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:function(){return T(T0)},providedIn:"root"})}return n})();const S0=new S("appBaseHref");let T0=(()=>{class n extends Qr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??T(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ap(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Jn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Jn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Jn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(x(Mp),x(S0,8))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zU=(()=>{class n extends Qr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ap(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Jn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Jn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(x(Mp),x(S0,8))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),Np=(()=>{class n{constructor(t){this._subject=new _e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function qU(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(D0(x0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Jn(r))}normalize(t){return n.stripTrailingSlash(function WU(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,x0(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Jn;static#t=this.joinWithSlash=Ap;static#n=this.stripTrailingSlash=D0;static#r=this.\u0275fac=function(r){return new(r||n)(x(Qr))};static#i=this.\u0275prov=A({token:n,factory:function(){return function GU(){return new Np(x(Qr))}()},providedIn:"root"})}return n})();function x0(n){return n.replace(/\/index.html$/,"")}function L0(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class RH{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let eu=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new RH(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),U0(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{U0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(w(un),w(Wn),w(jc))};static#t=this.\u0275dir=V({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function U0(n,e){n.context.$implicit=e.item}let jp=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new OH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){H0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){H0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(w(un),w(Wn))};static#t=this.\u0275dir=V({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class OH{constructor(){this.$implicit=null,this.ngIf=null}}function H0(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Be(e)}'.`)}let qp=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Nt({type:n});static#n=this.\u0275inj=yt({})}return n})();function G0(n){return"server"===n}let lj=(()=>{class n{static#e=this.\u0275prov=A({token:n,providedIn:"root",factory:()=>new cj(x(ht),window)})}return n})();class cj{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function uj(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class W0{}class Rj extends HU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yp extends Rj{static makeCurrent(){!function UU(n){xp||(xp=n)}(new Yp)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Oj(){return ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null}();return null==t?null:function Pj(n){ru=ru||document.createElement("a"),ru.setAttribute("href",n);const e=ru.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return L0(document.cookie,e)}}let ru,ea=null,Lj=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();const Zp=new S("EventManagerPlugins");let Z0=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(x(Zp),x(fe))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();class X0{constructor(e){this._doc=e}}const Xp="ng-app-id";let Q0=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=G0(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Xp}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Xp),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Xp,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(x(ht),x(sc),x(rE,8),x(qr))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();const Qp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eg=/%COMP%/g,Hj=new S("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function tS(n,e){return e.map(t=>t.replace(eg,n))}let nS=(()=>{class n{constructor(t,r,i,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=G0(a),this.defaultRenderer=new tg(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===rn.ShadowDom&&(r={...r,encapsulation:rn.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof iS?i.applyToHost(t):i instanceof ng&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case rn.Emulated:o=new iS(l,c,r,this.appId,u,s,a,d);break;case rn.ShadowDom:return new Gj(l,c,t,r,s,a,this.nonce,d);default:o=new ng(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Z0),x(Q0),x(sc),x(Hj),x(ht),x(qr),x(fe),x(rE))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();class tg{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Qp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(rS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(rS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Qp[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Qp[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(mr.DashCase|mr.Important)?e.style.setProperty(t,r,i&mr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&mr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=wr().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function rS(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Gj extends tg{constructor(e,t,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=tS(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ng extends tg{constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?tS(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class iS extends ng{constructor(e,t,r,i,o,s,a,l){const c=i+"-"+r.id;super(e,t,r,o,s,a,l,c),this.contentAttr=function jj(n){return"_ngcontent-%COMP%".replace(eg,n)}(c),this.hostAttr=function $j(n){return"_nghost-%COMP%".replace(eg,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Wj=(()=>{class n extends X0{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(x(ht))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();const oS=["alt","control","meta","shift"],qj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Kj=(()=>{class n extends X0{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),oS.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=qj[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oS.forEach(s=>{s!==i&&(0,Jj[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(x(ht))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();const Qj=XD(SU,"browser",[{provide:qr,useValue:"browser"},{provide:nE,useValue:function Yj(){Yp.makeCurrent()},multi:!0},{provide:ht,useFactory:function Xj(){return function TO(n){jf=n}(document),document},deps:[]}]),e$=new S(""),lS=[{provide:Lc,useClass:class Fj{addToWindow(e){ue.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new E(5103,!1);return o},ue.getAllAngularTestabilities=()=>e.getAllTestabilities(),ue.getAllAngularRootElements=()=>e.getAllRootElements(),ue.frameworkStabilizers||(ue.frameworkStabilizers=[]),ue.frameworkStabilizers.push(r=>{const i=ue.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?wr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:qD,useClass:vp,deps:[fe,yp,Lc]},{provide:vp,useClass:vp,deps:[fe,yp,Lc]}],cS=[{provide:Zf,useValue:"root"},{provide:$n,useFactory:function Zj(){return new $n},deps:[]},{provide:Zp,useClass:Wj,multi:!0,deps:[ht,fe,qr]},{provide:Zp,useClass:Kj,multi:!0,deps:[ht]},nS,Q0,Z0,{provide:cE,useExisting:nS},{provide:W0,useClass:Lj,deps:[]},[]];let t$=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:sc,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(x(e$,12))};static#t=this.\u0275mod=Nt({type:n});static#n=this.\u0275inj=yt({providers:[...cS,...lS],imports:[qp,TU]})}return n})(),uS=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(x(ht))};static#t=this.\u0275prov=A({token:n,factory:function(r){let i=null;return i=r?new r:function r$(){return new uS(x(ht))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let hS=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:function(r){let i=null;return i=r?new(r||n):x(pS),i},providedIn:"root"})}return n})(),pS=(()=>{class n extends hS{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case qt.NONE:return r;case qt.HTML:return En(r,"HTML")?Pt(r):WC(this._doc,String(r)).toString();case qt.STYLE:return En(r,"Style")?Pt(r):r;case qt.SCRIPT:if(En(r,"Script"))return Pt(r);throw new E(5200,!1);case qt.URL:return En(r,"URL")?Pt(r):ec(String(r));case qt.RESOURCE_URL:if(En(r,"ResourceURL"))return Pt(r);throw new E(5201,!1);default:throw new E(5202,!1)}}bypassSecurityTrustHtml(t){return function OO(n){return new xO(n)}(t)}bypassSecurityTrustStyle(t){return function PO(n){return new MO(n)}(t)}bypassSecurityTrustScript(t){return function FO(n){return new AO(n)}(t)}bypassSecurityTrustUrl(t){return function LO(n){return new NO(n)}(t)}bypassSecurityTrustResourceUrl(t){return function VO(n){return new kO(n)}(t)}static#e=this.\u0275fac=function(r){return new(r||n)(x(ht))};static#t=this.\u0275prov=A({token:n,factory:function(r){let i=null;return i=r?new r:function a$(n){return new pS(n.get(ht))}(x(It)),i},providedIn:"root"})}return n})();function mS(n){return!!n&&(n instanceof xe||ie(n.lift)&&ie(n.subscribe))}const{isArray:l$}=Array,{getPrototypeOf:c$,prototype:u$,keys:d$}=Object;const{isArray:h$}=Array;function ig(...n){const e=Zo(n),t=function D_(n){return ie(kd(n))?n.pop():void 0}(n),{args:r,keys:i}=function vS(n){if(1===n.length){const e=n[0];if(l$(e))return{args:e,keys:null};if(function f$(n){return n&&"object"==typeof n&&c$(n)===u$}(e)){const t=d$(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return Ve([],e);const o=new xe(function g$(n,e,t=lr){return r=>{wS(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)wS(e,()=>{const c=Ve(n[l],e);let u=!1;c.subscribe(Re(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function _S(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,s):lr));return t?o.pipe(function yS(n){return Z(e=>function p$(n,e){return h$(e)?n(...e):n(e)}(n,e))}(t)):o}function wS(n,e,t){n?Pn(t,n,e):e()}const iu=Jo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function og(...n){return function m$(){return Ci(1)}()(Ve(n,Zo(n)))}function CS(n){return new xe(e=>{xt(n()).subscribe(e)})}function ta(n,e){const t=ie(n)?n:()=>n,r=i=>i.error(t());return new xe(e?i=>e.schedule(r,0,i):r)}function sg(){return Le((n,e)=>{let t=null;n._refCount++;const r=Re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ES extends xe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,u_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;const t=this.getSubject();e.add(this.source.subscribe(Re(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return sg()(this)}}function wo(n){return n<=0?()=>pn:Le((e,t)=>{let r=0;e.subscribe(Re(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zn(n,e){return Le((t,r)=>{let i=0;t.subscribe(Re(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ou(n){return Le((e,t)=>{let r=!1;e.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function IS(n=y$){return Le((e,t)=>{let r=!1;e.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function y$(){return new iu}function ei(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zn((i,o)=>n(i,o,r)):lr,wo(1),t?ou(e):IS(()=>new iu))}function Co(n,e){return ie(e)?$e(n,e,1):$e(n,1)}function Xe(n,e,t){const r=ie(n)||e||t?{next:n,error:e,complete:t}:n;return r?Le((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Re(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):lr}function ti(n){return Le((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Re(t,void 0,void 0,s=>{o=xt(n(s,ti(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function ag(n){return n<=0?()=>pn:Le((e,t)=>{let r=[];e.subscribe(Re(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function na(n){return Le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const z="primary",ra=Symbol("RouteTitle");class b${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Eo(n){return new b$(n)}function D$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Mn(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!bS(n[i],e[i]))return!1;return!0}function bS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function DS(n){return n.length>0?n[n.length-1]:null}function Er(n){return mS(n)?n:Vs(n)?Ve(Promise.resolve(n)):k(n)}const T$={exact:function xS(n,e,t){if(!ni(n.segments,e.segments)||!su(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!xS(n.children[r],e.children[r],t))return!1;return!0},subset:MS},SS={exact:function x$(n,e){return Mn(n,e)},subset:function M$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bS(n[t],e[t]))},ignored:()=>!0};function TS(n,e,t){return T$[t.paths](n.root,e.root,t.matrixParams)&&SS[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function MS(n,e,t){return AS(n,e,e.segments,t)}function AS(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ni(i,t)||e.hasChildren()||!su(i,t,r))}if(n.segments.length===t.length){if(!ni(n.segments,t)||!su(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!MS(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ni(n.segments,i)&&su(n.segments,i,r)&&n.children[z])&&AS(n.children[z],e,o,r)}}function su(n,e,t){return e.every((r,i)=>SS[t](n[i].parameters,r.parameters))}class Io{constructor(e=new re([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eo(this.queryParams)),this._queryParamMap}toString(){return k$.serialize(this)}}class re{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return au(this)}}class ia{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Eo(this.parameters)),this._parameterMap}toString(){return RS(this)}}function ni(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let oa=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:function(){return new lg},providedIn:"root"})}return n})();class lg{parse(e){const t=new $$(e);return new Io(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${sa(e.root,!0)}`,r=function P$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${lu(t)}=${lu(i)}`).join("&"):`${lu(t)}=${lu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function R$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const k$=new lg;function au(n){return n.segments.map(e=>RS(e)).join("/")}function sa(n,e){if(!n.hasChildren())return au(n);if(e){const t=n.children[z]?sa(n.children[z],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${sa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function N$(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===z&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==z&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===z?[sa(n.children[z],!1)]:[`${i}:${sa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[z]?`${au(n)}/${t[0]}`:`${au(n)}/(${t.join("//")})`}}function NS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lu(n){return NS(n).replace(/%3B/gi,";")}function cg(n){return NS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cu(n){return decodeURIComponent(n)}function kS(n){return cu(n.replace(/\+/g,"%20"))}function RS(n){return`${cg(n.path)}${function O$(n){return Object.keys(n).map(e=>`;${cg(e)}=${cg(n[e])}`).join("")}(n.parameters)}`}const F$=/^[^\/()?;#]+/;function ug(n){const e=n.match(F$);return e?e[0]:""}const L$=/^[^\/()?;=#]+/,B$=/^[^=?&#]+/,H$=/^[^&#]+/;class $${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[z]=new re(e,t)),r}parseSegment(){const e=ug(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new ia(cu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function V$(n){const e=n.match(L$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ug(this.remaining);i&&(r=i,this.capture(r))}e[cu(t)]=cu(r)}parseQueryParam(e){const t=function U$(n){const e=n.match(B$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function j$(n){const e=n.match(H$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=kS(t),o=kS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ug(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=z);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[z]:new re([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}}function OS(n){return n.segments.length>0?new re([],{[z]:n}):n}function PS(n){const e={};for(const r of Object.keys(n.children)){const o=PS(n.children[r]);if(r===z&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function z$(n){if(1===n.numberOfChildren&&n.children[z]){const e=n.children[z];return new re(n.segments.concat(e.segments),e.children)}return n}(new re(n.segments,e))}function ri(n){return n instanceof Io}function FS(n){let e;const i=OS(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new re(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function LS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return dg(i,i,i,t,r);const o=function W$(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new BS(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new BS(t,e,r)}(e);if(o.toRoot())return dg(i,i,new re([],{}),t,r);const s=function q$(n,e,t){if(n.isAbsolute)return new du(e,!0,0);if(!t)return new du(e,!1,NaN);if(null===t.parent)return new du(t,!0,0);const r=uu(n.commands[0])?0:1;return function J$(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new du(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?la(s.segmentGroup,s.index,o.commands):US(s.segmentGroup,s.index,o.commands);return dg(i,s.segmentGroup,a,t,r)}function uu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function aa(n){return"object"==typeof n&&null!=n&&n.outlets}function dg(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===e?t:VS(n,e,t);const a=OS(PS(s));return new Io(a,o,i)}function VS(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:VS(o,e,t)}),new re(n.segments,r)}class BS{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&uu(r[0]))throw new E(4003,!1);const i=r.find(aa);if(i&&i!==DS(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class du{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function US(n,e,t){if(n||(n=new re([],{})),0===n.segments.length&&n.hasChildren())return la(n,e,t);const r=function Y$(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(aa(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!jS(l,c,s))return o;r+=2}else{if(!jS(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new re(n.segments.slice(0,r.pathIndex),{});return o.children[z]=new re(n.segments.slice(r.pathIndex),n.children),la(o,0,i)}return r.match&&0===i.length?new re(n.segments,{}):r.match&&!n.hasChildren()?fg(n,e,t):r.match?la(n,0,i):fg(n,e,t)}function la(n,e,t){if(0===t.length)return new re(n.segments,{});{const r=function K$(n){return aa(n[0])?n[0].outlets:{[z]:n}}(t),i={};if(Object.keys(r).some(o=>o!==z)&&n.children[z]&&1===n.numberOfChildren&&0===n.children[z].segments.length){const o=la(n.children[z],e,t);return new re(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=US(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new re(n.segments,i)}}function fg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(aa(o)){const l=Z$(o.outlets);return new re(r,l)}if(0===i&&uu(t[0])){r.push(new ia(n.segments[e].path,HS(t[0]))),i++;continue}const s=aa(o)?o.outlets[z]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&uu(a)?(r.push(new ia(s,HS(a))),i+=2):(r.push(new ia(s,{})),i++)}return new re(r,{})}function Z$(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=fg(new re([],{}),0,r))}),e}function HS(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function jS(n,e,t){return n==t.path&&Mn(e,t.parameters)}const ca="imperative";class An{constructor(e,t){this.id=e,this.url=t}}class fu extends An{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ir extends An{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ua extends An{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bo extends An{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class hu extends An{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $S extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X$ extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q$ extends An{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class e3 extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t3 extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n3{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class r3{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class o3{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s3{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a3{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l3{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zS{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hg{}class pg{constructor(e){this.url=e}}class c3{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new da,this.attachRef=null}}let da=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new c3,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class GS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=mg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mg(e,this._root).map(t=>t.value)}}function gg(n,e){if(n===e.value)return e;for(const t of e.children){const r=gg(n,t);if(r)return r}return null}function mg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=mg(n,t);if(r.length)return r.unshift(e),r}return[]}class Xn{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Do(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class WS extends GS{constructor(e,t){super(e),this.snapshot=t,vg(this,e)}toString(){return this.snapshot.toString()}}function qS(n,e){const t=function u3(n,e){const s=new pu([],{},{},"",{},z,e,null,{});return new KS("",new Xn(s,[]))}(0,e),r=new Mt([new ia("",{})]),i=new Mt({}),o=new Mt({}),s=new Mt({}),a=new Mt(""),l=new ii(r,i,s,a,o,z,e,t.root);return l.snapshot=t.root,new WS(new Xn(l,[]),t)}class ii{constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Z(c=>c[ra]))??k(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Z(e=>Eo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Z(e=>Eo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JS(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function d3(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class pu{get title(){return this.data?.[ra]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Eo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class KS extends GS{constructor(e,t){super(t),this.url=e,vg(this,t)}toString(){return YS(this._root)}}function vg(n,e){e.value._routerState=n,e.children.forEach(t=>vg(n,t))}function YS(n){const e=n.children.length>0?` { ${n.children.map(YS).join(", ")} } `:"";return`${n.value}${e}`}function yg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Mn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Mn(e.params,t.params)||n.paramsSubject.next(t.params),function S$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Mn(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Mn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _g(n,e){const t=Mn(n.params,e.params)&&function A$(n,e){return ni(n,e)&&n.every((t,r)=>Mn(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||_g(n.parent,e.parent))}let wg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new _e,this.deactivateEvents=new _e,this.attachEvents=new _e,this.detachEvents=new _e,this.parentContexts=T(da),this.location=T(un),this.changeDetector=T(Bc),this.environmentInjector=T(Ft),this.inputBinder=T(gu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new f3(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=V({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Gt]})}return n})();class f3{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ii?this.route:e===da?this.childContexts:this.parent.get(e,t)}}const gu=new S("");let ZS=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=ig([r.queryParams,r.params,r.data]).pipe(nn(([o,s,a],l)=>(a={...o,...s,...a},0===l?k(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function BU(n){const e=J(n);if(!e)return null;const t=new Rs(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();function fa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function p3(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return fa(n,r,i);return fa(n,r)})}(n,e,t);return new Xn(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>fa(n,a)),s}}const r=function g3(n){return new ii(new Mt(n.url),new Mt(n.params),new Mt(n.queryParams),new Mt(n.fragment),new Mt(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>fa(n,o));return new Xn(r,i)}}const Cg="ngNavigationCancelingError";function XS(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ri(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QS(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function QS(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Cg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function eT(n){return n&&n[Cg]}let tT=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=mn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Kb],decls:1,vars:0,template:function(r,i){1&r&&Sn(0,"router-outlet")},dependencies:[wg],encapsulation:2})}return n})();function Eg(n){const e=n.children&&n.children.map(Eg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==z&&(t.component=tT),t}function hn(n){return n.outlet||z}function ha(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class I3{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),yg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Do(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Do(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Do(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Do(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new l3(o.value.snapshot))}),e.children.length&&this.forwardEvent(new s3(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(yg(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),yg(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=ha(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class nT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mu{constructor(e,t){this.component=e,this.route=t}}function b3(n,e,t){const r=n._root;return pa(r,e?e._root:null,t,[r.value])}function So(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function G1(n){return null!==fl(n)}(n)?e.get(n):n:r}function pa(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Do(e);return n.children.forEach(s=>{(function S3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function T3(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ni(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ni(n.url,e.url)||!Mn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_g(n,e)||!Mn(n.queryParams,e.queryParams);default:return!_g(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new nT(r)):(o.data=s.data,o._resolvedData=s._resolvedData),pa(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mu(a.outlet.component,s))}else s&&ga(e,a,i),i.canActivateChecks.push(new nT(r)),pa(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ga(a,t.getContext(s),i)),i}function ga(n,e,t){const r=Do(n),i=n.value;Object.entries(r).forEach(([o,s])=>{ga(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new mu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ma(n){return"function"==typeof n}function rT(n){return n instanceof iu||"EmptyError"===n?.name}const vu=Symbol("INITIAL_VALUE");function To(){return nn(n=>ig(n.map(e=>e.pipe(wo(1),function v$(...n){const e=Zo(n);return Le((t,r)=>{(e?og(n,t,e):og(n,t)).subscribe(r)})}(vu)))).pipe(Z(e=>{for(const t of e)if(!0!==t){if(t===vu)return vu;if(!1===t||t instanceof Io)return t}return!0}),Zn(e=>e!==vu),wo(1)))}function iT(n){return function JN(...n){return a_(n)}(Xe(e=>{if(ri(e))throw XS(0,e)}),Z(e=>!0===e))}class yu{constructor(e){this.segmentGroup=e||null}}class oT{constructor(e){this.urlTree=e}}function xo(n){return ta(new yu(n))}function sT(n){return ta(new oT(n))}class q3{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new E(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return k(r);if(i.numberOfChildren>1||!i.children[z])return ta(new E(4e3,!1));i=i.children[z]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Io(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new re(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Ig={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function J3(n,e,t,r,i){const o=bg(n,e,t);return o.matched?(r=function v3(n,e){return n.providers&&!n._injector&&(n._injector=Qh(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function z3(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?k(i.map(s=>{const a=So(s,n);return Er(function R3(n){return n&&ma(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(To(),iT()):k(!0)}(r,e,t).pipe(Z(s=>!0===s?o:{...Ig}))):k(o)}function bg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ig}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||D$)(t,n,e);if(!i)return{...Ig};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function aT(n,e,t,r){return t.length>0&&function Z3(n,e,t){return t.some(r=>_u(n,e,r)&&hn(r)!==z)}(n,t,r)?{segmentGroup:new re(e,Y3(r,new re(t,n.children))),slicedSegments:[]}:0===t.length&&function X3(n,e,t){return t.some(r=>_u(n,e,r))}(n,t,r)?{segmentGroup:new re(n.segments,K3(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new re(n.segments,n.children),slicedSegments:t}}function K3(n,e,t,r,i){const o={};for(const s of r)if(_u(n,t,s)&&!i[hn(s)]){const a=new re([],{});o[hn(s)]=a}return{...i,...o}}function Y3(n,e){const t={};t[z]=e;for(const r of n)if(""===r.path&&hn(r)!==z){const i=new re([],{});t[hn(r)]=i}return t}function _u(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class nz{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new q3(this.urlSerializer,this.urlTree)}noMatchError(e){return new E(4002,!1)}recognize(){const e=aT(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,z).pipe(ti(t=>{if(t instanceof oT)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof yu?this.noMatchError(t):t}),Z(t=>{const r=new pu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),i=new Xn(r,t),o=new KS("",i),s=function G$(n,e,t=null,r=null){return LS(FS(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,z).pipe(ti(r=>{throw r instanceof yu?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=JS(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ve(i).pipe(Co(o=>{const s=r.children[o],a=function C3(n,e){const t=n.filter(r=>hn(r)===e);return t.push(...n.filter(r=>hn(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function w$(n,e){return Le(function _$(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(Re(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),ou(null),function C$(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zn((i,o)=>n(i,o,r)):lr,ag(1),t?ou(e):IS(()=>new iu))}(),$e(o=>{if(null===o)return xo(r);const s=lT(o);return function rz(n){n.sort((e,t)=>e.value.outlet===z?-1:t.value.outlet===z?1:e.value.outlet.localeCompare(t.value.outlet))}(s),k(s)}))}processSegment(e,t,r,i,o,s){return Ve(t).pipe(Co(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(ti(l=>{if(l instanceof yu)return k(null);throw l}))),ei(a=>!!a),ti(a=>{if(rT(a))return function ez(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?k([]):xo(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function Q3(n,e,t,r){return!!(hn(n)===r||r!==z&&_u(e,t,n))&&("**"===n.path||bg(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):xo(i):xo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sT(o):this.applyRedirects.lineralizeSegments(r,o).pipe($e(s=>{const a=new re(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=bg(t,i,o);if(!a)return xo(t);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?sT(d):this.applyRedirects.lineralizeSegments(i,d).pipe($e(f=>this.processSegment(e,r,t,f.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?DS(i).parameters:{};a=k({snapshot:new pu(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cT(r),hn(r),r.component??r._loadedComponent??null,r,uT(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=J3(t,r,i,e).pipe(Z(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new pu(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cT(r),hn(r),r.component??r._loadedComponent??null,r,uT(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(nn(l=>null===l?xo(t):this.getChildConfig(e=r._injector??e,r,i).pipe(nn(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=l,{segmentGroup:p,slicedSegments:g}=aT(t,f,h,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(Z(_=>null===_?null:[new Xn(d,_)]));if(0===c.length&&0===g.length)return k([new Xn(d,[])]);const m=hn(r)===o;return this.processSegment(u,c,p,g,m?z:o,!0).pipe(Z(_=>[new Xn(d,_)]))}))))}getChildConfig(e,t,r){return t.children?k({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?k({routes:t._loadedRoutes,injector:t._loadedInjector}):function $3(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?k(!0):k(i.map(s=>{const a=So(s,n);return Er(function M3(n){return n&&ma(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(To(),iT())}(e,t,r).pipe($e(i=>i?this.configLoader.loadChildren(e,t).pipe(Xe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function W3(n){return ta(QS(!1,3))}())):k({routes:[],injector:e})}}function iz(n){const e=n.value.routeConfig;return e&&""===e.path}function lT(n){const e=[],t=new Set;for(const r of n){if(!iz(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=lT(r.children);e.push(new Xn(r.value,i))}return e.filter(r=>!t.has(r))}function cT(n){return n.data||{}}function uT(n){return n.resolve||{}}function dT(n){return"string"==typeof n.title||null===n.title}function Dg(n){return nn(e=>{const t=n(e);return t?Ve(t).pipe(Z(()=>e)):k(e)})}const Mo=new S("ROUTES");let Sg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=T($D)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return k(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Er(t.loadComponent()).pipe(Z(fT),Xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),na(()=>{this.componentLoaders.delete(t)})),i=new ES(r,()=>new tn).pipe(sg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return k({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function dz(n,e,t,r){return Er(n.loadChildren()).pipe(Z(fT),$e(i=>i instanceof qb||Array.isArray(i)?k(i):Ve(e.compileModuleAsync(i))),Z(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Mo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Eg),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(na(()=>{this.childrenLoaders.delete(r)})),s=new ES(o,()=>new tn).pipe(sg());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fT(n){return function fz(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let wu=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tn,this.transitionAbortSubject=new tn,this.configLoader=T(Sg),this.environmentInjector=T(Ft),this.urlSerializer=T(oa),this.rootContexts=T(da),this.inputBindingEnabled=null!==T(gu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new r3(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new n3(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Mt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ca,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zn(o=>0!==o.id),Z(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),nn(o=>{this.currentTransition=o;let s=!1,a=!1;return k(o).pipe(Xe(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),nn(l=>{const c=l.currentBrowserUrl.toString(),u=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const f="";return this.events.next(new bo(l.id,this.urlSerializer.serialize(l.rawUrl),f,0)),l.resolve(null),pn}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return k(l).pipe(nn(f=>{const h=this.transitions?.getValue();return this.events.next(new fu(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?pn:Promise.resolve(f)}),function oz(n,e,t,r,i,o){return $e(s=>function tz(n,e,t,r,i,o,s="emptyOnly"){return new nz(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(Z(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Xe(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new $S(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:m}=l,_=new fu(f,this.urlSerializer.serialize(h),p,g);this.events.next(_);const y=qS(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:y,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},k(o)}{const f="";return this.events.next(new bo(l.id,this.urlSerializer.serialize(l.extractedUrl),f,1)),l.resolve(null),pn}}),Xe(l=>{const c=new X$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Z(l=>(this.currentTransition=o={...l,guards:b3(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function P3(n,e){return $e(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?k({...t,guardsResult:!0}):function F3(n,e,t,r){return Ve(n).pipe($e(i=>function j3(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?k(o.map(a=>{const l=ha(e)??i,c=So(a,l);return Er(function k3(n){return n&&ma(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(ei())})).pipe(To()):k(!0)}(i.component,i.route,t,e,r)),ei(i=>!0!==i,!0))}(s,r,i,n).pipe($e(a=>a&&function x3(n){return"boolean"==typeof n}(a)?function L3(n,e,t,r){return Ve(e).pipe(Co(i=>og(function B3(n,e){return null!==n&&e&&e(new o3(n)),k(!0)}(i.route.parent,r),function V3(n,e){return null!==n&&e&&e(new a3(n)),k(!0)}(i.route,r),function H3(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function D3(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>CS(()=>k(s.guards.map(l=>{const c=ha(s.node)??t,u=So(l,c);return Er(function N3(n){return n&&ma(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(ei())})).pipe(To())));return k(o).pipe(To())}(n,i.path,t),function U3(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return k(!0);const i=r.map(o=>CS(()=>{const s=ha(e)??t,a=So(o,s);return Er(function A3(n){return n&&ma(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(ei())}));return k(i).pipe(To())}(n,i.route,t))),ei(i=>!0!==i,!0))}(r,o,n,e):k(a)),Z(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Xe(l=>{if(o.guardsResult=l.guardsResult,ri(l.guardsResult))throw XS(0,l.guardsResult);const c=new Q$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Zn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Dg(l=>{if(l.guards.canActivateChecks.length)return k(l).pipe(Xe(c=>{const u=new e3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),nn(c=>{let u=!1;return k(c).pipe(function sz(n,e){return $e(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return k(t);let o=0;return Ve(i).pipe(Co(s=>function az(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!dT(i)&&(o[ra]=i.title),function lz(n,e,t,r){const i=function cz(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return k({});const o={};return Ve(i).pipe($e(s=>function uz(n,e,t,r){const i=ha(e)??r,o=So(n,i);return Er(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(ei(),Xe(a=>{o[s]=a}))),ag(1),function E$(n){return Z(()=>n)}(o),ti(s=>rT(s)?pn:ta(s)))}(o,n,e,r).pipe(Z(s=>(n._resolvedData=s,n.data=JS(n,t).resolve,i&&dT(i)&&(n.data[ra]=i.title),null)))}(s.route,r,n,e)),Xe(()=>o++),ag(1),$e(s=>o===i.length?k(t):pn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Xe(c=>{const u=new t3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Dg(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Xe(f=>{u.component=f}),Z(()=>{})));for(const f of u.children)d.push(...c(f));return d};return ig(c(l.targetSnapshot.root)).pipe(ou(),wo(1))}),Dg(()=>this.afterPreactivation()),Z(l=>{const c=function h3(n,e,t){const r=fa(n,e._root,t?t._root:void 0);return new WS(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),Xe(()=>{this.events.next(new hg)}),((n,e,t,r)=>Z(i=>(new I3(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),wo(1),Xe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ir(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function I$(n){return Le((e,t)=>{xt(n).subscribe(Re(t,()=>t.complete(),Ed)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Xe(l=>{throw l}))),na(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ti(l=>{if(a=!0,eT(l))this.events.next(new ua(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function m3(n){return eT(n)&&ri(n.url)}(l)?this.events.next(new pg(l.url)):o.resolve(!1);else{this.events.next(new hu(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){o.reject(c)}}return pn}))}))}cancelNavigationTransition(t,r,i){const o=new ua(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hT(n){return n!==ca}let pT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(t){return t.data[ra]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:function(){return T(hz)},providedIn:"root"})}return n})(),hz=(()=>{class n extends pT{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(x(uS))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pz=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:function(){return T(mz)},providedIn:"root"})}return n})();class gz{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let mz=(()=>{class n extends gz{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=function Je(n){return Fn(()=>{const e=n.prototype.constructor,t=e[Ln]||Ef(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ln]||Ef(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(n)))(i||n)}}();static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Cu=new S("",{providedIn:"root",factory:()=>({})});let vz=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:function(){return T(yz)},providedIn:"root"})}return n})(),yz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var va=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(va||{});function gT(n,e){n.events.pipe(Zn(t=>t instanceof Ir||t instanceof ua||t instanceof hu||t instanceof bo),Z(t=>t instanceof Ir||t instanceof bo?va.COMPLETE:t instanceof ua&&(0===t.code||1===t.code)?va.REDIRECTING:va.FAILED),Zn(t=>t!==va.REDIRECTING),wo(1)).subscribe(()=>{e()})}function _z(n){throw n}function wz(n,e,t){return e.parse("/")}const Cz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ez={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=T(jD),this.isNgZoneEnabled=!1,this._events=new tn,this.options=T(Cu,{optional:!0})||{},this.pendingTasks=T(Pc),this.errorHandler=this.options.errorHandler||_z,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=T(vz),this.routeReuseStrategy=T(pz),this.titleStrategy=T(pT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=T(Mo,{optional:!0})?.flat()??[],this.navigationTransitions=T(wu),this.urlSerializer=T(oa),this.location=T(Np),this.componentInputBindingEnabled=!!T(gu,{optional:!0}),this.eventsSubscription=new Tt,this.isNgZoneEnabled=T(fe)instanceof fe&&fe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Io,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qS(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(mT(r)&&this._events.next(r));if(r instanceof fu)hT(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof bo)this.rawUrlTree=i.rawUrl;else if(r instanceof $S){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof hg)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof ua)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof pg){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hT(i.source)};this.scheduleNavigation(o,ca,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof hu&&this.restoreHistory(i,!0),r instanceof Ir&&(this.navigated=!0),mT(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ca,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Eg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=FS(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return LS(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ri(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ca,null,r)}navigate(t,r={skipLocationChange:!1}){return function Iz(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new E(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Cz}:!1===r?{...Ez}:r,ri(t))return TS(this.currentUrlTree,t,i);const o=this.parseUrl(t);return TS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});const u=this.pendingTasks.add();return gT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mT(n){return!(n instanceof hg||n instanceof pg)}let ya=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new tn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Ir&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function JC(n,e,t){return function QO(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?qC:nc}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(w(gt),w(ii),function Pl(n){return function gR(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(H_(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(qe(),n)}("tabindex"),w(jn),w(Lt),w(Qr))};static#t=this.\u0275dir=V({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&he("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Dn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",yo],skipLocationChange:["skipLocationChange","skipLocationChange",yo],replaceUrl:["replaceUrl","replaceUrl",yo],routerLink:"routerLink"},standalone:!0,features:[aI,Gt]})}return n})();class vT{}let Sz=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Zn(t=>t instanceof Ir),Co(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Qh(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ve(i).pipe(Ci())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):k(null);const o=i.pipe($e(s=>null===s?k(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Ve([o,this.loader.loadComponent(r)]).pipe(Ci()):o})}static#e=this.\u0275fac=function(r){return new(r||n)(x(gt),x($D),x(Ft),x(vT),x(Sg))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Tg=new S("");let yT=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof fu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ir?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof bo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zS&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zS(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function OE(){throw new Error("invalid")}()};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();function Qn(n,e){return{\u0275kind:n,\u0275providers:e}}function wT(){const n=T(It);return e=>{const t=n.get(vo);if(e!==t.components[0])return;const r=n.get(gt),i=n.get(CT);1===n.get(xg)&&r.initialNavigation(),n.get(ET,null,W.Optional)?.setUpPreloading(),n.get(Tg,null,W.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const CT=new S("",{factory:()=>new tn}),xg=new S("",{providedIn:"root",factory:()=>1}),ET=new S("");function Az(n){return Qn(0,[{provide:ET,useExisting:Sz},{provide:vT,useExisting:n}])}const IT=new S("ROUTER_FORROOT_GUARD"),kz=[Np,{provide:oa,useClass:lg},gt,da,{provide:ii,useFactory:function _T(n){return n.routerState.root},deps:[gt]},Sg,[]];function Rz(){return new YD("Router",gt)}let bT=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[kz,[],{provide:Mo,multi:!0,useValue:t},{provide:IT,useFactory:Lz,deps:[[gt,new Vl,new Bl]]},{provide:Cu,useValue:r||{}},r?.useHash?{provide:Qr,useClass:zU}:{provide:Qr,useClass:T0},{provide:Tg,useFactory:()=>{const n=T(lj),e=T(fe),t=T(Cu),r=T(wu),i=T(oa);return t.scrollOffset&&n.setOffset(t.scrollOffset),new yT(i,r,n,e,t)}},r?.preloadingStrategy?Az(r.preloadingStrategy).\u0275providers:[],{provide:YD,multi:!0,useFactory:Rz},r?.initialNavigation?Vz(r):[],r?.bindToComponentInputs?Qn(8,[ZS,{provide:gu,useExisting:ZS}]).\u0275providers:[],[{provide:DT,useFactory:wT},{provide:Cp,multi:!0,useExisting:DT}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Mo,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(x(IT,8))};static#t=this.\u0275mod=Nt({type:n});static#n=this.\u0275inj=yt({})}return n})();function Lz(n){return"guarded"}function Vz(n){return["disabled"===n.initialNavigation?Qn(3,[{provide:hp,multi:!0,useFactory:()=>{const e=T(gt);return()=>{e.setUpLocationChangeListener()}}},{provide:xg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Qn(2,[{provide:xg,useValue:0},{provide:hp,multi:!0,deps:[It],useFactory:e=>{const t=e.get(jU,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(gt),o=e.get(CT);gT(i,()=>{r(!0)}),e.get(wu).afterPreactivation=()=>(r(!0),o.closed?k(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const DT=new S(""),Mg=n=>({id:n.id,title:n.title,year:n.release_date,description:n.overview,img:n.poster_path,genres:n.genres,vote:n.vote_average});class Eu{}class Iu{}class Nn{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Nn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Nn;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Nn?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Hz{encodeKey(e){return ST(e)}encodeValue(e){return ST(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const $z=/%(\d[a-f0-9])/gi,zz={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ST(n){return encodeURIComponent(n).replace($z,(e,t)=>zz[t]??e)}function bu(n){return`${n}`}class br{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Hz,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jz(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(bu):[bu(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new br({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(bu(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(bu(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Gz{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function TT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function xT(n){return typeof Blob<"u"&&n instanceof Blob}function MT(n){return typeof FormData<"u"&&n instanceof FormData}class _a{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Wz(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Nn),this.context||(this.context=new Gz),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new br,this.urlWithParams=t}serializeBody(){return null===this.body?null:TT(this.body)||xT(this.body)||MT(this.body)||function qz(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof br?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MT(this.body)?null:xT(this.body)?this.body.type||null:TT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof br?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),c)),new _a(t,r,o,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var Ao=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ao||{});class Ag{constructor(e,t=200,r="OK"){this.headers=e.headers||new Nn,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ng extends Ag{constructor(e={}){super(e),this.type=Ao.ResponseHeader}clone(e={}){return new Ng({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class No extends Ag{constructor(e={}){super(e),this.type=Ao.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new No({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class AT extends Ag{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function kg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let oi=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof _a)o=t;else{let l,c;l=i.headers instanceof Nn?i.headers:new Nn(i.headers),i.params&&(c=i.params instanceof br?i.params:new br({fromObject:i.params})),o=new _a(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=k(o).pipe(Co(l=>this.handler.handle(l)));if(t instanceof _a||"events"===i.observe)return s;const a=s.pipe(Zn(l=>l instanceof No));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Z(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Z(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Z(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Z(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new br).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,kg(i,r))}post(t,r,i={}){return this.request("POST",t,kg(i,r))}put(t,r,i={}){return this.request("PUT",t,kg(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(x(Eu))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();function RT(n,e){return e(n)}function Kz(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Zz=new S(""),wa=new S(""),OT=new S("");function Xz(){let n=null;return(e,t)=>{null===n&&(n=(T(Zz,{optional:!0})??[]).reduceRight(Kz,RT));const r=T(Pc),i=r.add();return n(e,t).pipe(na(()=>r.remove(i)))}}let PT=(()=>{class n extends Eu{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=T(Pc)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(wa),...this.injector.get(OT,[])]));this.chain=i.reduceRight((o,s)=>function Yz(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(o,s,this.injector),RT)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(na(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(x(Iu),x(Ft))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();const n4=/^\)\]\}',?\n/;let LT=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new E(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Ve(r.\u0275loadImpl()):k(null)).pipe(nn(()=>new xe(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const g=t.detectContentTypeHeader();null!==g&&s.setRequestHeader("Content-Type",g)}if(t.responseType){const g=t.responseType.toLowerCase();s.responseType="json"!==g?g:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const g=s.statusText||"OK",m=new Nn(s.getAllResponseHeaders()),_=function r4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new Ng({headers:m,status:s.status,statusText:g,url:_}),l},u=()=>{let{headers:g,status:m,statusText:_,url:y}=c(),b=null;204!==m&&(b=typeof s.response>"u"?s.responseText:s.response),0===m&&(m=b?200:0);let N=m>=200&&m<300;if("json"===t.responseType&&"string"==typeof b){const G=b;b=b.replace(n4,"");try{b=""!==b?JSON.parse(b):null}catch(Te){b=G,N&&(N=!1,b={error:Te,text:b})}}N?(o.next(new No({body:b,headers:g,status:m,statusText:_,url:y||void 0})),o.complete()):o.error(new AT({error:b,headers:g,status:m,statusText:_,url:y||void 0}))},d=g=>{const{url:m}=c(),_=new AT({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(_)};let f=!1;const h=g=>{f||(o.next(c()),f=!0);let m={type:Ao.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),"text"===t.responseType&&s.responseText&&(m.partialText=s.responseText),o.next(m)},p=g=>{let m={type:Ao.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),o.next(m)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",h),null!==a&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Ao.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",h),null!==a&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(x(W0))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();const Rg=new S("XSRF_ENABLED"),VT=new S("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),BT=new S("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class UT{}let a4=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=L0(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(x(ht),x(qr),x(VT))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac})}return n})();function l4(n,e){const t=n.url.toLowerCase();if(!T(Rg)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=T(UT).getToken(),i=T(BT);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Dr=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Dr||{});function c4(...n){const e=[oi,LT,PT,{provide:Eu,useExisting:PT},{provide:Iu,useExisting:LT},{provide:wa,useValue:l4,multi:!0},{provide:Rg,useValue:!0},{provide:UT,useClass:a4}];for(const t of n)e.push(...t.\u0275providers);return function Jf(n){return{\u0275providers:n}}(e)}const HT=new S("LEGACY_INTERCEPTOR_FN");function u4(){return function si(n,e){return{\u0275kind:n,\u0275providers:e}}(Dr.LegacyInterceptors,[{provide:HT,useFactory:Xz},{provide:wa,useExisting:HT,multi:!0}])}let d4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Nt({type:n});static#n=this.\u0275inj=yt({providers:[c4(u4())]})}return n})(),Su=(()=>{class n{constructor(t){this.Http=t,this.apiKey="f8f36e08a0e1341098b2f04c205a7da9"}getFilms(t){return this.Http.get(`https://api.themoviedb.org/3/movie/popular?api_key=${this.apiKey}&page=${t}`)}getFilmsDetail(t){return this.Http.get(`https://api.themoviedb.org/3/movie/${t}?api_key=${this.apiKey}`)}getFilmsByName(t,r){return this.Http.get(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${t}&page=${r}`)}static#e=this.\u0275fac=function(r){return new(r||n)(x(oi))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const v4=function(n){return["/detail",n]};let jT=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=mn({type:n,selectors:[["app-film-item"]],inputs:{film:"film"},decls:8,vars:7,consts:[[1,"no-underline",3,"routerLink"],[1,"cursor-pointer","rounded-lg","w-56"],[1,"relative","shadow-[0_10px_100px_black]"],[1,"absolute","bottom-3","-right-3","bg-emerald-600","p-2","rounded-full","text-white"],[1,"w-56",3,"src","alt"],[1,"text-white","text-sm","mt-2"]],template:function(r,i){1&r&&(P(0,"a",0)(1,"div",1)(2,"div",2)(3,"span",3),oe(4),F(),Sn(5,"img",4),F(),P(6,"h2",5),oe(7),F()()()),2&r&&(ut("routerLink",rD(5,v4,i.film.id)),se(4),fo(" ",i.film.vote.toFixed(1)," "),se(1),Bs("src","https://image.tmdb.org/t/p/w500/",i.film.img,"",nc),Uh("alt",i.film.title),se(2),Kt(i.film.title))},dependencies:[ya]})}return n})();function $T(n,e,t,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function v(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(l){$T(o,r,i,s,a,"next",l)}function a(l){$T(o,r,i,s,a,"throw",l)}s(void 0)})}}const zT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},GT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let f=(15&a)<<2|c>>6,h=63&c;l||(h=64,s||(f=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[f],t[h])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new C4;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class C4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tu=function(n){return function(n){const e=zT(n);return GT.encodeByteArray(e,!0)}(n).replace(/\./g,"")},xu=function(n){try{return GT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Mu=()=>{try{return function b4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xu(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},JT=()=>{var n;return null===(n=Mu())||void 0===n?void 0:n.config},KT=n=>{var e;return null===(e=Mu())||void 0===e?void 0:e[`_${n}`]};class YT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Sr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ca.prototype.create)}}class Ca{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function F4(n,e){return n.replace(L4,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Sr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const L4=/\{\$([^}]+)}/g;function Nu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(XT(o)&&XT(s)){if(!Nu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function XT(n){return null!==n&&"object"==typeof n}function Ea(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ia(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ba(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class U4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function H4(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Pg),void 0===i.error&&(i.error=Pg),void 0===i.complete&&(i.complete=Pg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pg(){}function Tr(n){return n&&n._delegate?n._delegate:n}class ko{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ai="[DEFAULT]";class q4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new YT;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function K4(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ai})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ai){return this.instances.has(e)}getOptions(e=ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ai?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ai){return this.component?this.component.multipleInstances?e:ai:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new q4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Lg=[];var le=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(le||{});const QT={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},Z4=le.INFO,X4={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},Q4=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=X4[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class ex{constructor(e){this.name=e,this._logLevel=Z4,this._logHandler=Q4,this._userLogHandler=null,Lg.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?QT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const e5=(n,e)=>e.some(t=>n instanceof t);let tx,nx;const rx=new WeakMap,Vg=new WeakMap,ix=new WeakMap,Bg=new WeakMap,Ug=new WeakMap;let Hg={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Vg.get(n);if("objectStoreNames"===e)return n.objectStoreNames||ix.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xr(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function a5(n){return"function"==typeof n?function s5(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function n5(){return nx||(nx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(jg(this),e),xr(rx.get(this))}:function(...e){return xr(n.apply(jg(this),e))}:function(e,...t){const r=n.call(jg(this),e,...t);return ix.set(r,e.sort?e.sort():[e]),xr(r)}}(n):(n instanceof IDBTransaction&&function i5(n){if(Vg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Vg.set(n,e)}(n),e5(n,function t5(){return tx||(tx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Hg):n)}function xr(n){if(n instanceof IDBRequest)return function r5(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(xr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&rx.set(t,n)}).catch(()=>{}),Ug.set(e,n),e}(n);if(Bg.has(n))return Bg.get(n);const e=a5(n);return e!==n&&(Bg.set(n,e),Ug.set(e,n)),e}const jg=n=>Ug.get(n),c5=["get","getKey","getAll","getAllKeys","count"],u5=["put","add","delete","clear"],$g=new Map;function ox(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if($g.get(e))return $g.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=u5.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!c5.includes(t))return;const o=function(){var s=v(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return $g.set(e,o),o}!function o5(n){Hg=n(Hg)}(n=>({...n,get:(e,t,r)=>ox(e,t)||n.get(e,t,r),has:(e,t)=>!!ox(e,t)||n.has(e,t)}));class d5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function f5(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const zg="@firebase/app",li=new ex("@firebase/app"),ku="[DEFAULT]",V5={[zg]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ci=new Map,Ru=new Map;function B5(n,e){try{n.container.addComponent(e)}catch(t){li.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Da(n){const e=n.name;if(Ru.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;Ru.set(e,n);for(const t of ci.values())B5(t,n);return!0}function Gg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const er=new Ca("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class H5{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const Sa="10.7.1";function ax(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ku,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw er.create("bad-app-name",{appName:String(i)});if(t||(t=JT()),!t)throw er.create("no-options");const o=ci.get(i);if(o){if(Nu(t,o.options)&&Nu(r,o.config))return o;throw er.create("duplicate-app",{appName:i})}const s=new Y4(i);for(const l of Ru.values())s.addComponent(l);const a=new H5(t,r,s);return ci.set(i,a),a}function Ro(n,e,t){var r;let i=null!==(r=V5[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void li.warn(a.join(" "))}Da(new ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $5="firebase-heartbeat-database",z5=1,Ta="firebase-heartbeat-store";let qg=null;function lx(){return qg||(qg=function l5(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=xr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xr(s.result),l.oldVersion,l.newVersion,xr(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}($5,z5,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ta)}}).catch(n=>{throw er.create("idb-open",{originalErrorMessage:n.message})})),qg}function Jg(){return(Jg=v(function*(n){try{return yield(yield lx()).transaction(Ta).objectStore(Ta).get(ux(n))}catch(e){if(e instanceof Sr)li.warn(e.message);else{const t=er.create("idb-get",{originalErrorMessage:e?.message});li.warn(t.message)}}})).apply(this,arguments)}function cx(n,e){return Kg.apply(this,arguments)}function Kg(){return(Kg=v(function*(n,e){try{const r=(yield lx()).transaction(Ta,"readwrite");yield r.objectStore(Ta).put(e,ux(n)),yield r.done}catch(t){if(t instanceof Sr)li.warn(t.message);else{const r=er.create("idb-set",{originalErrorMessage:t?.message});li.warn(r.message)}}})).apply(this,arguments)}function ux(n){return`${n.name}!${n.options.appId}`}class J5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Y5(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){var t,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dx();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=dx(),{heartbeatsToSend:i,unsentEntries:o}=function K5(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fx(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),fx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Tu(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function dx(){return(new Date).toISOString().substring(0,10)}class Y5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!function R4(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function O4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function G5(n){return Jg.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return cx(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return cx(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function fx(n){return Tu(JSON.stringify({version:2,heartbeats:n})).length}!function Z5(n){Da(new ko("platform-logger",e=>new d5(e),"PRIVATE")),Da(new ko("heartbeat",e=>new J5(e),"PRIVATE")),Ro(zg,"0.9.25",n),Ro(zg,"0.9.25","esm2017"),Ro("fire-js","")}(""),Ro("firebase","10.7.1","app");const e8=function hx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},px=new Ca("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ou=new ex("@firebase/auth");function Pu(n,...e){Ou.logLevel<=le.ERROR&&Ou.error(`Auth (${Sa}): ${n}`,...e)}function St(n,...e){throw Yg(n,...e)}function Ut(n,...e){return Yg(n,...e)}function gx(n,e,t){const r=Object.assign(Object.assign({},e8()),{[e]:t});return new Ca("auth","Firebase",r).create(e,{appName:n.name})}function Yg(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return px.create(n,...e)}function I(n,e,...t){if(!n)throw Yg(e,...t)}function kn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pu(e),new Error(e)}function tr(n,e){n||kn(e)}function xa(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function mx(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function n8(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Zg(){return"http:"===mx()||"https:"===mx()}()||function A4(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Ma{constructor(e,t){this.shortDelay=e,this.longDelay=t,tr(t>e,"Short delay should be less than long delay!"),this.isMobile=function x4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}()||function N4(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return n8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xg(n,e){tr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class vx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const i8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},o8=new Ma(3e4,6e4);function me(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ve(n,e,t,r){return Qg.apply(this,arguments)}function Qg(){return(Qg=v(function*(n,e,t,r,i={}){return yx(n,i,v(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Ea(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),vx.fetch()(_x(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function yx(n,e,t){return em.apply(this,arguments)}function em(){return(em=v(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},i8),e);try{const i=new a8(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Aa(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Aa(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw Aa(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw Aa(n,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gx(n,u,c);St(n,u)}}catch(i){if(i instanceof Sr)throw i;St(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function nr(n,e,t,r){return tm.apply(this,arguments)}function tm(){return(tm=v(function*(n,e,t,r,i={}){const o=yield ve(n,e,t,r,i);return"mfaPendingCredential"in o&&St(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function _x(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Xg(n.config,i):`${n.config.apiScheme}://${i}`}function s8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ut(this.auth,"network-request-failed")),o8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Aa(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ut(n,e,r);return i.customData._tokenResponse=t,i}function Cx(n){return void 0!==n&&void 0!==n.enterprise}class Ex{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return s8(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function Ix(n,e){return rm.apply(this,arguments)}function rm(){return(rm=v(function*(n,e){return ve(n,"GET","/v2/recaptchaConfig",me(n,e))})).apply(this,arguments)}function im(){return(im=v(function*(n,e){return ve(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function sm(){return(sm=v(function*(n,e){return ve(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Na(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function am(){return(am=v(function*(n,e=!1){const t=Tr(n),r=yield t.getIdToken(e),i=Fu(r);I(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Na(lm(i.auth_time)),issuedAtTime:Na(lm(i.iat)),expirationTime:Na(lm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function lm(n){return 1e3*Number(n)}function Fu(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Pu("JWT malformed, contained fewer than 3 sections"),null;try{const i=xu(t);return i?JSON.parse(i):(Pu("Failed to decode base64 JWT payload"),null)}catch(i){return Pu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function rr(n,e){return cm.apply(this,arguments)}function cm(){return(cm=v(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Sr&&function p8({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class g8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield t.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class bx{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Na(this.lastLoginAt),this.creationTime=Na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ka(n){return um.apply(this,arguments)}function um(){return um=v(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield rr(n,function d8(n,e){return sm.apply(this,arguments)}(t,{idToken:r}));I(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function y8(n){return n.map(e=>{var{providerId:t}=e,r=cl(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function v8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bx(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),um.apply(this,arguments)}function dm(){return(dm=v(function*(n){const e=Tr(n);yield ka(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function fm(){return(fm=v(function*(n,e){const t=yield yx(n,{},v(function*(){const r=Ea({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=_x(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vx.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function hm(){return(hm=v(function*(n,e){return ve(n,"POST","/v2/accounts:revokeToken",me(n,e))})).apply(this,arguments)}class Ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function h8(n){const e=Fu(n);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return v(function*(){return I(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return v(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function _8(n,e){return fm.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Ra;return r&&(I("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(I("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ra,this.toJSON())}_performRefresh(){return kn("not implemented")}}function Mr(n,e){I("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=cl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bx(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return v(function*(){const r=yield rr(t,t.stsTokenManager.getToken(t.auth,e));return I(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function f8(n){return am.apply(this,arguments)}(this,e)}reload(){return function m8(n){return dm.apply(this,arguments)}(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ka(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const t=yield e.getIdToken();return yield rr(e,function c8(n,e){return im.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,f=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,_=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:N,isAnonymous:G,providerData:Te,stsTokenManager:jt}=t;I(b&&jt,e,"internal-error");const ar=Ra.fromJSON(this.name,jt);I("string"==typeof b,e,"internal-error"),Mr(d,e.name),Mr(f,e.name),I("boolean"==typeof N,e,"internal-error"),I("boolean"==typeof G,e,"internal-error"),Mr(h,e.name),Mr(p,e.name),Mr(g,e.name),Mr(m,e.name),Mr(_,e.name),Mr(y,e.name);const wi=new ui({uid:b,auth:e,email:f,emailVerified:N,displayName:d,isAnonymous:G,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:ar,createdAt:_,lastLoginAt:y});return Te&&Array.isArray(Te)&&(wi.providerData=Te.map(n_=>Object.assign({},n_))),m&&(wi._redirectEventId=m),wi}static _fromIdTokenResponse(e,t,r=!1){return v(function*(){const i=new Ra;i.updateFromServerResponse(t);const o=new ui({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ka(o),o})()}}const Dx=new Map;function ir(n){tr(n instanceof Function,"Expected a class definition");let e=Dx.get(n);return e?(tr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Dx.set(n,e),e)}const Sx=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(t,r){var i=this;return v(function*(){i.storage[t]=r})()}_get(t){var r=this;return v(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return v(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Lu(n,e,t){return`firebase:${n}:${e}:${t}`}class Po{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Lu(this.userKey,i.apiKey,o),this.fullPersistenceKey=Lu("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ui._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return v(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(function*(){if(!t.length)return new Po(ir(Sx),e,r);const i=(yield Promise.all(t.map(function(){var c=v(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||ir(Sx);const s=Lu(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(s);if(u){const d=ui._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=v(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Po(o,e,r)):new Po(o,e,r)})()}}function Tx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ax(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kx(e))return"Blackberry";if(Rx(e))return"Webos";if(pm(e))return"Safari";if((e.includes("chrome/")||Mx(e))&&!e.includes("edge/"))return"Chrome";if(Nx(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function xx(n=je()){return/firefox\//i.test(n)}function pm(n=je()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mx(n=je()){return/crios\//i.test(n)}function Ax(n=je()){return/iemobile/i.test(n)}function Nx(n=je()){return/android/i.test(n)}function kx(n=je()){return/blackberry/i.test(n)}function Rx(n=je()){return/webos/i.test(n)}function Vu(n=je()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ox(n=je()){return Vu(n)||Nx(n)||Rx(n)||kx(n)||/windows phone/i.test(n)||Ax(n)}function Px(n,e=[]){let t;switch(n){case"Browser":t=Tx(je());break;case"Worker":t=`${Tx(je())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sa}/${r}`}class b8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return v(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function gm(){return(gm=v(function*(n,e={}){return ve(n,"GET","/v2/passwordPolicy",me(n,e))})).apply(this,arguments)}class T8{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNumericCharacter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class x8{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fx(this),this.idTokenSubscription=new Fx(this),this.beforeStateQueue=new b8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ir(t)),this._initializationPromise=this.queue(v(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Po.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return v(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return I(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return v(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return v(function*(){try{yield ka(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function r8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return v(function*(){const r=e?Tr(e):null;return r&&I(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return v(function*(){if(!r._deleted)return e&&I(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(v(function*(){yield t.assertedPersistence.setPersistence(ir(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return v(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return v(function*(){const t=yield function D8(n){return gm.apply(this,arguments)}(e),r=new T8(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ca("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return v(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function w8(n,e){return hm.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return v(function*(){if(!t.redirectPersistenceManager){const r=e&&ir(e)||t._popupRedirectResolver;I(r,t,"argument-error"),t.redirectPersistenceManager=yield Po.create(t,[ir(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return v(function*(){var r,i;return t._isInitialized&&(yield t.queue(v(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return v(function*(){if(e===t.currentUser)return t.queue(v(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(I(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,r,i);return()=>{s=!0,l()}}{const l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){var t=this;return v(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Px(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return v(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function t8(n,...e){Ou.logLevel<=le.WARN&&Ou.warn(`Auth (${Sa}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function ke(n){return Tr(n)}class Fx{constructor(e){this.auth=e,this.observer=null,this.addObserver=function B4(n,e){const t=new U4(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mm(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Ut("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function M8(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function Lx(n){return`__${n}${Math.floor(1e6*Math.random())}`}class Vx{constructor(e){this.type="recaptcha-enterprise",this.auth=ke(e)}verify(e="verify",t=!1){var r=this;return v(function*(){function o(){return o=v(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=v(function*(c,u){Ix(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new Ex(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,c(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,c){const u=window.grecaptcha;Cx(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!t&&Cx(window.grecaptcha))s(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));mm("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function Bx(n,e,t){return vm.apply(this,arguments)}function vm(){return(vm=v(function*(n,e,t,r=!1){const i=new Vx(n);let o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function Oa(n,e,t,r){return ym.apply(this,arguments)}function ym(){return ym=v(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield Bx(n,e,t,"getOobCode"===t);return r(n,o)}return r(n,e).catch(function(){var o=v(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield Bx(n,e,t,"getOobCode"===t);return r(n,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),ym.apply(this,arguments)}function Ux(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Hx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class wm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return kn("not implemented")}_getIdTokenResponse(e){return kn("not implemented")}_linkToIdToken(e,t){return kn("not implemented")}_getReauthenticationResolver(e){return kn("not implemented")}}function U8(n,e){return Im.apply(this,arguments)}function Im(){return(Im=v(function*(n,e){return ve(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function j8(n,e){return Dm.apply(this,arguments)}function Dm(){return(Dm=v(function*(n,e){return nr(n,"POST","/v1/accounts:signInWithPassword",me(n,e))})).apply(this,arguments)}function Nm(){return(Nm=v(function*(n,e){return nr(n,"POST","/v1/accounts:signInWithEmailLink",me(n,e))})).apply(this,arguments)}function km(){return(km=v(function*(n,e){return nr(n,"POST","/v1/accounts:signInWithEmailLink",me(n,e))})).apply(this,arguments)}class Pa extends wm{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Pa(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Pa(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return v(function*(){switch(t.signInMethod){case"password":return Oa(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",j8);case"emailLink":return function q8(n,e){return Nm.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:St(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return v(function*(){switch(r.signInMethod){case"password":return Oa(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U8);case"emailLink":return function J8(n,e){return km.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:St(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function or(n,e){return Rm.apply(this,arguments)}function Rm(){return(Rm=v(function*(n,e){return nr(n,"POST","/v1/accounts:signInWithIdp",me(n,e))})).apply(this,arguments)}class Fo extends wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):St("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=cl(t,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Fo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return or(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,or(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,or(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ea(t)}return e}}class La{constructor(e){var t,r,i,o,s,a;const l=Ia(ba(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function t6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);I(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function n6(n){const e=Ia(ba(n)).link,t=e?Ia(ba(e)).deep_link_id:null,r=Ia(ba(n)).deep_link_id;return(r?Ia(ba(r)).link:null)||r||t||e||n}(e);try{return new La(t)}catch{return null}}}let $x=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Pa._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=La.parseLink(r);return I(i,"argument-error"),Pa._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ar{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zx extends Ar{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let r6=(()=>{class n extends zx{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Fo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();function Gx(n,e){return Bm.apply(this,arguments)}function Bm(){return(Bm=v(function*(n,e){return nr(n,"POST","/v1/accounts:signUp",me(n,e))})).apply(this,arguments)}class Xt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(function*(){const o=yield ui._fromIdTokenResponse(e,r,i),s=Wx(r);return new Xt({user:o,providerId:s,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Wx(r);return new Xt({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function Wx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function Um(){return(Um=v(function*(n){var e;const t=ke(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new Xt({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield Gx(t,{returnSecureToken:!0}),i=yield Xt._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class Hu extends Sr{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hu.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Hu(e,t,r,i)}}function qx(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Hu._fromErrorAndOperation(n,o,e,r):o})}function $m(){return($m=v(function*(n,e,t=!1){const r=yield rr(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Xt._forOperation(n,"link",r)})).apply(this,arguments)}function Gm(){return(Gm=v(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const o=yield rr(n,qx(r,i,e,n),t);I(o.idToken,r,"internal-error");const s=Fu(o.idToken);I(s,r,"internal-error");const{sub:a}=s;return I(n.uid===a,r,"user-mismatch"),Xt._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&St(r,"user-mismatch"),o}})).apply(this,arguments)}function Yx(n,e){return Wm.apply(this,arguments)}function Wm(){return(Wm=v(function*(n,e,t=!1){const r="signIn",i=yield qx(n,r,e),o=yield Xt._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function qm(n,e){return Jm.apply(this,arguments)}function Jm(){return(Jm=v(function*(n,e){return Yx(ke(n),e)})).apply(this,arguments)}function nv(n){return rv.apply(this,arguments)}function rv(){return(rv=v(function*(n){const e=ke(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function cv(){return(cv=v(function*(n,e,t){const r=ke(n),s=yield Oa(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gx).catch(l=>{throw"auth/password-does-not-meet-requirements"===l.code&&nv(n),l}),a=yield Xt._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const zu="__sak";class Xx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zu,"1"),this.storage.removeItem(zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const A6=(()=>{class n extends Xx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function T6(){const n=je();return pm(n)||Vu(n)}()&&function I8(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ox(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function E8(){return function k4(){const n=je();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return v(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return v(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),Qx=(()=>{class n extends Xx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let k6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return v(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,l=r.handlersMap[s];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(l).map(function(){var d=v(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function N6(n){return Promise.all(n.map(function(){var e=v(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Gu(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class R6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return v(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=Gu("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Pe(){return window}function Dv(){return typeof Pe().WorkerGlobalScope<"u"&&"function"==typeof Pe().importScripts}function Sv(){return(Sv=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const eM="firebaseLocalStorageDb",Wu="firebaseLocalStorage",tM="fbase_key";class Ba{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qu(n,e){return n.transaction([Wu],e?"readwrite":"readonly").objectStore(Wu)}function Tv(){const n=indexedDB.open(eM,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Wu,{keyPath:tM})}catch(i){t(i)}}),n.addEventListener("success",v(function*(){const r=n.result;r.objectStoreNames.contains(Wu)?e(r):(r.close(),yield function B6(){const n=indexedDB.deleteDatabase(eM);return new Ba(n).toPromise()}(),e(yield Tv()))}))})}function nM(n,e,t){return xv.apply(this,arguments)}function xv(){return(xv=v(function*(n,e,t){const r=qu(n,!0).put({[tM]:e,value:t});return new Ba(r).toPromise()})).apply(this,arguments)}function Mv(){return(Mv=v(function*(n,e){const t=qu(n,!1).get(e),r=yield new Ba(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function rM(n,e){const t=qu(n,!0).delete(e);return new Ba(t).toPromise()}const $6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return v(function*(){return t.db||(t.db=yield Tv()),t.db})()}_withRetries(t){var r=this;return v(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return v(function*(){return Dv()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return v(function*(){t.receiver=k6._getInstance(function L6(){return Dv()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=v(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=v(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return v(function*(){var r,i;if(t.activeServiceWorker=yield function P6(){return Sv.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new R6(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function F6(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const t=yield Tv();return yield nM(t,zu,"1"),yield rM(t,zu),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return v(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(o=>nM(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return v(function*(){const i=yield r._withRetries(o=>function U6(n,e){return Mv.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>rM(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return v(function*(){const r=yield t._withRetries(s=>{const a=qu(s,!1).getAll();return new Ba(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function fi(n,e){return e?ir(e):(I(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}Lx("rcb"),new Ma(3e4,6e4);class Vv extends wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return or(e,this._buildIdpRequest())}_linkToIdToken(e,t){return or(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return or(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oG(n){return Yx(n.auth,new Vv(n),n.bypassAuthState)}function sG(n){const{auth:e,user:t}=n;return I(t,e,"internal-error"),function Kx(n,e){return Gm.apply(this,arguments)}(t,new Vv(n),n.bypassAuthState)}function aG(n){return Bv.apply(this,arguments)}function Bv(){return(Bv=v(function*(n){const{auth:e,user:t}=n;return I(t,e,"internal-error"),function jm(n,e){return $m.apply(this,arguments)}(t,new Vv(n),n.bypassAuthState)})).apply(this,arguments)}class oM{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oG;case"linkViaPopup":case"linkViaRedirect":return aG;case"reauthViaPopup":case"reauthViaRedirect":return sG;default:St(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lG=new Ma(2e3,1e4);function Uv(){return(Uv=v(function*(n,e,t){const r=ke(n);!function Oo(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&St(n,"argument-error"),gx(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,e,Ar);const i=fi(r,t);return new $v(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let $v=(()=>{class n extends oM{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return v(function*(){const r=yield t.execute();return I(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return v(function*(){tr(1===t.filter.length,"Popup operations only handle one event");const r=Gu();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Ut(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ut(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,lG.get())};t()}}return n.currentPopupAction=null,n})();const uG="pendingRedirect",Ua=new Map;class dG extends oM{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return v(function*(){let r=Ua.get(t.auth._key());if(!r){try{const o=(yield function fG(n,e){return zv.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Ua.set(t.auth._key(),r)}return t.bypassAuthState||Ua.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function zv(){return(zv=v(function*(n,e){const t=function aM(n){return Lu(uG,n.config.apiKey,n.name)}(e),r=function sM(n){return ir(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function hG(n,e){Ua.set(n._key(),e)}function lM(n,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=v(function*(n,e,t=!1){const r=ke(n),i=fi(r,e),s=yield new dG(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class yG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function _G(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dM(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!dM(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ut(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uM(e))}saveEventToCache(e){this.cachedEventUids.add(uM(e)),this.lastProcessedEventTime=Date.now()}}function uM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dM({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Qv(){return(Qv=v(function*(n,e={}){return ve(n,"GET","/v1/projects",e)})).apply(this,arguments)}const CG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EG=/^https?/;function ey(){return ey=v(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function wG(n){return Qv.apply(this,arguments)}(n);for(const t of e)try{if(bG(t))return}catch{}St(n,"unauthorized-domain")}),ey.apply(this,arguments)}function bG(n){const e=xa(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!EG.test(t))return!1;if(CG.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const DG=new Ma(3e4,6e4);function fM(){const n=Pe().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Ku=null;const xG=new Ma(5e3,15e3),MG="__/auth/iframe",AG="emulator/auth/iframe",NG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RG(n){const e=n.config;I(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Xg(e,AG):`https://${n.config.authDomain}/${MG}`,r={apiKey:e.apiKey,appName:n.name,v:Sa},i=kG.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ea(r).slice(1)}`}function ty(){return ty=v(function*(n){const e=yield function TG(n){return Ku=Ku||function SG(n){return new Promise((e,t)=>{var r,i,o;function s(){fM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fM(),t(Ut(n,"network-request-failed"))},timeout:DG.get()})}if(null!==(i=null===(r=Pe().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Pe().gapi)||void 0===o||!o.load){const a=Lx("iframefcb");return Pe()[a]=()=>{gapi.load?s():t(Ut(n,"network-request-failed"))},mm(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}s()}}).catch(e=>{throw Ku=null,e})}(n),Ku}(n),t=Pe().gapi;return I(t,n,"internal-error"),e.open({where:document.body,url:RG(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NG,dontclear:!0},r=>new Promise(function(){var i=v(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Ut(n,"network-request-failed"),l=Pe().setTimeout(()=>{s(a)},xG.get());function c(){Pe().clearTimeout(l),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),ty.apply(this,arguments)}const PG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jG="__/auth/handler",$G="emulator/auth/handler",zG=encodeURIComponent("fac");function pM(n,e,t,r,i,o){return ny.apply(this,arguments)}function ny(){return(ny=v(function*(n,e,t,r,i,o){I(n.config.authDomain,n,"auth-domain-config-required"),I(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Sa,eventId:i};if(e instanceof Ar){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",function V4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof zx){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${zG}=${encodeURIComponent(l)}`:"";return`${function GG({config:n}){return n.emulator?Xg(n,$G):`https://${n.authDomain}/${jG}`}(n)}?${Ea(a).slice(1)}${c}`})).apply(this,arguments)}const ry="webStorageSupport",qG=class WG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qx,this._completeRedirectFn=lM,this._overrideRedirectResult=hG}_openPopup(e,t,r,i){var o=this;return v(function*(){var s;tr(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield pM(e,t,r,xa(),i);return function UG(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},PG),{width:r.toString(),height:i.toString(),top:o,left:s}),c=je().toLowerCase();t&&(a=Mx(c)?"_blank":t),xx(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function C8(n=je()){var e;return Vu(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function HG(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new hM(null);const d=window.open(e||"",a,u);I(d,n,"popup-blocked");try{d.focus()}catch{}return new hM(d)}(e,a,Gu())})()}_openRedirect(e,t,r,i){var o=this;return v(function*(){return yield o._originValidation(e),function O6(n){Pe().location.href=n}(yield pM(e,t,r,xa(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(tr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return v(function*(){const r=yield function OG(n){return ty.apply(this,arguments)}(e),i=new yG(e);return r.register("authEvent",o=>(I(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ry,{type:ry},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[ry];void 0!==s&&t(!!s),St(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function IG(n){return ey.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ox()||pm()||Vu()}};var vM="@firebase/auth";class JG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return v(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const XG=KT("authIdTokenMaxAge")||300;let _M=null;const QG=n=>function(){var e=v(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>XG)return;const o=r?.token;_M!==o&&(_M=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();(function YG(n){Da(new ko("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;I(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Px(n)},c=new x8(r,i,o,l);return function P8(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ir);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Da(new ko("auth-internal",e=>{const t=ke(e.getProvider("auth").getImmediate());return new JG(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ro(vM,"1.5.1",function KG(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Ro(vM,"1.5.1","esm2017")})("Browser"),ax({apiKey:"AIzaSyC5A5A4dC1QvZYja7xc-57V0CvFUgh7zzs",authDomain:"movies-app-23584.firebaseapp.com",projectId:"movies-app-23584",storageBucket:"movies-app-23584.appspot.com",messagingSenderId:"960304418927",appId:"1:960304418927:web:61489c08e88b01e28cfd9a"});const Lo=function eW(n=function j5(n=ku){const e=ci.get(n);if(!e&&n===ku&&JT())return ax();if(!e)throw er.create("no-app",{appName:n});return e}()){const e=Gg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function O8(n,e){const t=Gg(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Nu(t.getOptions(),e??{}))return i;St(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:qG,persistence:[$6,A6,Qx]}),r=KT("authTokenSyncURL");if(r){const o=QG(r);(function C6(n,e,t){Tr(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function w6(n,e,t,r){Tr(n).onIdTokenChanged(e,t,r)}(t,s=>o(s))}const i=(n=>{var e,t;return null===(t=null===(e=Mu())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})("auth");return i&&function F8(n,e,t){const r=ke(n);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=Ux(e),{host:s,port:a}=function L8(n){const e=Ux(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Hx(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:Hx(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function V8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(),tW=function(){var n=v(function*(e,t){if(e&&t)return yield function d6(n,e,t){return cv.apply(this,arguments)}(Lo,e,t)});return function(t,r){return n.apply(this,arguments)}}(),nW=function(){var n=v(function*(e,t){if(e&&t)return yield function f6(n,e,t){return qm(Tr(n),$x.credential(e,t)).catch(function(){var r=v(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&nv(n),i});return function(i){return r.apply(this,arguments)}}())}(Lo,e,t)});return function(t,r){return n.apply(this,arguments)}}(),rW=function(){var n=v(function*(){return new Promise((e,t)=>{const r=function E6(n,e,t,r){return Tr(n).onAuthStateChanged(e,t,r)}(Lo,i=>{r(),e(i)},t)})});return function(){return n.apply(this,arguments)}}(),iW=function(){var n=v(function*(){return yield function s6(n){return Um.apply(this,arguments)}(Lo)});return function(){return n.apply(this,arguments)}}(),oW=new r6,sW=function(){var n=v(function*(){return yield function cG(n,e,t){return Uv.apply(this,arguments)}(Lo,oW)});return function(){return n.apply(this,arguments)}}(),hi_restLink="https://yami-test-app-8a1c5c6aae90.herokuapp.com";let Vo=(()=>{class n{constructor(){this.userSubject=new Mt(null),this.user$=this.userSubject.asObservable()}getUser(){return this.user$}setUser(t){this.userSubject.next({...t})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lW=function(){return["/favorites"]};function cW(n,e){if(1&n){const t=Bh();P(0,"div",5)(1,"a",6),pf(),P(2,"svg",7),Sn(3,"path",8),F(),gf(),P(4,"span",9),oe(5),F()(),P(6,"div",10),oe(7),F(),P(8,"button",11),he("click",function(){return Dl(t),Sl(co().handleSignOut())}),oe(9,"Log out"),F()()}if(2&n){const t=co();se(1),ut("routerLink",function nD(n,e,t){const r=at()+n,i=C();return i[r]===H?bn(i,r,t?e.call(t):e()):function Os(n,e){return n[e]}(i,r)}(3,lW)),se(4),Kt(t.count),se(2),Kt(t.user.email?t.user.email:"Guest")}}let uW=(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.httpClient=i,this.searchFieldChange=new _e,this.count=0}ngOnInit(){this.userService.getUser().subscribe(t=>{this.user=t,this.httpClient.get(`${hi_restLink}/favorite/${this.user?.uid}`).subscribe(r=>{this.count=r.length})})}handleChange(t){this.searchFieldChange.emit(t.target.value)}handleSignOut(){var t=this;return v(function*(){yield Lo.signOut(),t.router.navigate(["/"])})()}static#e=this.\u0275fac=function(r){return new(r||n)(w(Vo),w(gt),w(oi))};static#t=this.\u0275cmp=mn({type:n,selectors:[["app-search-nav"]],outputs:{searchFieldChange:"searchFieldChange"},decls:6,vars:1,consts:[[1,"w-full","px-6","py-2","flex","items-center","justify-between","text-white"],[1,"flex"],["placeholder","Search by name...",1,"bg-transparent","text-lg","p-2","focus:outline-none","border","border-slate-800","mr-4","rounded-lg",3,"input"],[1,"py-2","px-4","border","border-slate-800","rounded-lg","transition","duration-500","hover:bg-slate-800","hover:text-white"],["class","flex gap-4 items-center",4,"ngIf"],[1,"flex","gap-4","items-center"],[1,"relative",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-10","h-10","text-emerald-600","hover:fill-emerald-600","cursor-pointer"],["stroke-linecap","round","stroke-linejoin","round","d","M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"],[1,"absolute","text-xs","top-0","right-2","text-white"],["ca",""],[1,"py-2","px-4","border","border-slate-800","rounded-lg","transition","duration-500","hover:bg-slate-800","hover:text-white",3,"click"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"div",1)(2,"input",2),he("input",function(s){return i.handleChange(s)}),F(),P(3,"button",3),oe(4,"Search"),F()(),vr(5,cW,10,4,"div",4),F()),2&r&&(se(5),ut("ngIf",i.user))},dependencies:[jp,ya]})}return n})();function dW(n,e){if(1&n&&(P(0,"div",8),Sn(1,"app-film-item",9),F()),2&n){const t=e.$implicit;se(1),ut("film",t)}}let fW=(()=>{class n{constructor(t){this.filmService=t,this.page=1,this.films=[]}ngOnInit(){this.fetchFilms(null)}mapFilms(t){return t.map(Mg)}onSearchFieldChange(t){this.page=1,this.fetchFilms(t)}fetchFilms(t){t?this.filmService.getFilmsByName(t,this.page).subscribe(r=>{this.films=this.mapFilms(r.results)}):this.filmService.getFilms(this.page).subscribe(r=>{this.films=this.mapFilms(r.results)})}getNextPage(){this.page++,this.fetchFilms(null)}getPreviousPage(){1!==this.page&&(this.page--,this.fetchFilms(null))}static#e=this.\u0275fac=function(r){return new(r||n)(w(Su))};static#t=this.\u0275cmp=mn({type:n,selectors:[["app-list-film"]],decls:12,vars:2,consts:[[1,"pb-4"],[3,"searchFieldChange"],[1,"grid","grid-cols-4","gap-5","p-4","justify-items-center"],["class","justify-center",4,"ngFor","ngForOf"],[1,"w-full","flex","justify-center","text-white"],[1,"flex","items-center","gap-4","border-white","border","py-1","px-3"],[3,"click"],[1,"border-x","border-white","px-4","cursor-"],[1,"justify-center"],[3,"film"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"app-search-nav",1),he("searchFieldChange",function(s){return i.onSearchFieldChange(s)}),F(),P(2,"div",2),vr(3,dW,2,1,"div",3),F(),P(4,"div",4)(5,"div",5)(6,"button",6),he("click",function(){return i.getPreviousPage()}),oe(7,"\xab"),F(),P(8,"button",7),oe(9),F(),P(10,"button",6),he("click",function(){return i.getNextPage()}),oe(11,"\xbb"),F()()()()),2&r&&(se(3),ut("ngForOf",i.films),se(6),fo("Page ",i.page,""))},dependencies:[eu,jT,uW]})}return n})(),hW=(()=>{class n{constructor(t,r){this.userService=t,this.httpClient=r,this.comment="",this.commentChange=new _e}handleChange(t){this.comment=t.target.value}handleSubmit(t){this.userService.getUser().subscribe(r=>{const i={comment:this.comment,movie_id:this.id,email:r?.email?r.email:"Guest"};this.commentChange.emit(i),this.httpClient.post(`${hi_restLink}/comment`,i).subscribe(o=>{console.log(o)})}),t.preventDefault()}static#e=this.\u0275fac=function(r){return new(r||n)(w(Vo),w(oi))};static#t=this.\u0275cmp=mn({type:n,selectors:[["app-comment-editor"]],inputs:{id:"id"},outputs:{commentChange:"commentChange"},decls:5,vars:0,consts:[["placeholder","Write a comment...",1,"outline-none","border-[1px]","border-emerald-600","w-3/4","p-4","rounded-2xl","shadow-xl","resize-none","text-white","bg-transparent",3,"input"],["type","submit",1,"bg-emerald-600","text-white","px-4","py-2","rounded-lg","mt-4",3,"click"]],template:function(r,i){1&r&&(P(0,"form")(1,"div")(2,"textarea",0),he("input",function(s){return i.handleChange(s)}),F()(),P(3,"button",1),he("click",function(s){return i.handleSubmit(s)}),oe(4,"Add your comment"),F()())}})}return n})();function pW(n,e){1&n&&(P(0,"div",18),oe(1," You can not add a movie to favorites if you are a guest "),F())}function gW(n,e){if(1&n&&(P(0,"div"),oe(1),F()),2&n){const t=e.$implicit;se(1),Kt(t.name)}}function mW(n,e){if(1&n&&(P(0,"div")(1,"div",19)(2,"h3",20),oe(3),F(),P(4,"p",21),oe(5),F()()()),2&n){const t=e.$implicit;se(3),Kt(t.email),se(2),Kt(t.comment)}}function vW(n,e){if(1&n){const t=Bh();P(0,"div"),vr(1,pW,2,0,"div",1),P(2,"div",2)(3,"div",3)(4,"div",4),he("click",function(){Dl(t);const i=co();return Sl(i.addToFavorites(i.film))}),pf(),P(5,"svg",5),Sn(6,"path",6),F()(),gf(),P(7,"h2",7),oe(8),F(),P(9,"p",8),oe(10),F(),P(11,"h5"),oe(12,"Genres"),F(),P(13,"div",9),vr(14,gW,2,1,"div",10),F(),P(15,"div",11)(16,"h3"),oe(17,"Rating: "),F(),P(18,"span",12),oe(19),F()()(),Sn(20,"img",13),F(),P(21,"div",14)(22,"div",15)(23,"h1"),oe(24,"Comments:"),F(),P(25,"h1"),oe(26),F()(),P(27,"app-comment-editor",16),he("commentChange",function(i){return Dl(t),Sl(co().onCommentChange(i))}),F()(),P(28,"div",17),vr(29,mW,6,2,"div",10),F()()}if(2&n){const t=co();se(1),ut("ngIf",t.showFavMessage),se(4),function ab(n,e,t){cn(Ot,xn,to(C(),n,e,t),!0)}("w-10 h-10 text-emerald-600  ",t.isFavorite?"fill-emerald-600 hover:fill-none":"hover:fill-emerald-600","  cursor-pointer"),se(3),Kt(t.film.title),se(2),Kt(t.film.description),se(4),ut("ngForOf",null==t.film?null:t.film.genres),se(5),fo(" ",t.film.vote.toFixed(1)," "),se(1),Bs("src","https://image.tmdb.org/t/p/w500/",t.film.img,"",nc),ut("alt",t.film.title),se(6),Kt(t.comments.length),se(1),ut("id",t.film.id),se(2),ut("ngForOf",t.comments)}}let yW=(()=>{class n{constructor(t,r,i,o){this.route=t,this.filmService=r,this.httpClient=i,this.userService=o,this.comments=[],this.showFavMessage=!1,this.isFavorite=!1}ngOnInit(){const t=Number(this.route.snapshot.params.id);this.filmService.getFilmsDetail(t).subscribe(r=>{this.film=Mg(r)}),this.httpClient.get(`${hi_restLink}/comment?movie_id=${t}`).subscribe(r=>{this.comments=r}),this.userService.getUser().subscribe(r=>{this.httpClient.get(`${hi_restLink}/favorite/${r?.uid}/${t}`).subscribe(i=>{this.isFavorite=i})})}onCommentChange(t){this.comments.push(t)}addToFavorites(t){this.userService.getUser().subscribe(r=>{r?.email?this.httpClient.post("${environment.restLink}/favorite",{user_id:r?.uid,movie_id:t.id}).subscribe(()=>{this.isFavorite=!this.isFavorite}):(this.showFavMessage=!0,window.setTimeout(()=>{this.showFavMessage=!1},4e3))})}static#e=this.\u0275fac=function(r){return new(r||n)(w(ii),w(Su),w(oi),w(Vo))};static#t=this.\u0275cmp=mn({type:n,selectors:[["app-film-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","absolute text-white bg-emerald-600 p-4 rounded-lg top-4 left-4 transition duration-1000",4,"ngIf"],[1,"w-full","h-1/2","flex","text-white"],[1,"p-5","flex","flex-col","justify-center","relative"],[1,"absolute","top-6","right-5",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"],[1,"text-3xl","font-bold","mb-4","text-emerald-600"],[1,""],[1,"flex","gap-1"],[4,"ngFor","ngForOf"],[1,"absolute","bottom-3","right-5","flex","items-center","gap-5"],[1,"border-[1px]","border-emerald-600","text-emerald-600","p-2","rounded-full","text-2xl"],[1,"w-80",3,"src","alt"],[1,"pl-6"],[1,"flex","gap-4","items-center","text-emerald-600"],[1,"w-full",3,"id","commentChange"],[1,"pl-6","mt-6"],[1,"absolute","text-white","bg-emerald-600","p-4","rounded-lg","top-4","left-4","transition","duration-1000"],[1,"border-[1px]","border-y","border-emerald-600","w-1/2","p-2","rounded-xl"],[1,"text-emerald-600"],[1,"text-white","p-2","w-full","h-fit"]],template:function(r,i){1&r&&vr(0,vW,30,13,"div",0),2&r&&ut("ngIf",i.film)},dependencies:[eu,jp,hW]})}return n})();function wW(n,e){if(1&n&&(P(0,"div",2),Sn(1,"app-film-item",3),F()),2&n){const t=e.$implicit;se(1),ut("film",t)}}const CW=[{path:"",component:(()=>{class n{constructor(t,r,i){this.http=t,this.userService=r,this.router=i}handleChange(t,r){this.formFields={...this.formFields,[r]:t.target.value}}handleSubmit(t){var r=this;return v(function*(){try{if(t.preventDefault(),!r.formFields||!r.formFields.email||!r.formFields.password)return void(r.errorMessage="Please fill in all the fields");r.http.get(`${hi_restLink}/user?email=${r.formFields.email}`).subscribe(function(){var i=v(function*(o){let s;s=o?(yield nW(r.formFields.email,r.formFields.password))?.user:(yield tW(r.formFields.email,r.formFields.password))?.user,r.http.post(`${hi_restLink}/user`,{email:s?.email,uid:s?.uid,password:r.formFields.password}).subscribe(()=>{r.userService.setUser({email:s?.email,uid:s?.uid,password:r.formFields.password}),r.router.navigate(["list"])})});return function(o){return i.apply(this,arguments)}}())}catch(i){r.errorMessage=i?.message}})()}handleGoogleLogin(t){var r=this;return v(function*(){t.preventDefault(),yield sW(),r.router.navigate(["list"])})()}handleAnonymousLogin(){var t=this;return v(function*(){const r=yield iW();t.userService.setUser({email:r?.user?.email,uid:r?.user?.uid,password:""}),t.router.navigate(["list"])})()}static#e=this.\u0275fac=function(r){return new(r||n)(w(oi),w(Vo),w(gt))};static#t=this.\u0275cmp=mn({type:n,selectors:[["app-login"]],decls:17,vars:1,consts:[[1,"w-screen","h-screen","flex","items-center","justify-center"],[1,"shadow-xl","rounded-2xl","p-4","border","border-slate-800"],[1,"text-center","pb-4","text-white"],["type","text","placeholder","Email",1,"text-white","focus:outline-none","w-full","bg-transparent","border","border-slate-800","p-2","rounded-lg","mb-4",3,"input"],["type","password","placeholder","Password",1,"text-white","focus:outline-none","w-full","bg-transparent","border","border-slate-800","p-2","rounded-lg","mb-2",3,"input"],[1,"text-right","text-white","hover:text-slate-400","cursor-pointer","mb-4",3,"click"],[1,"text-red-500","text-sm","text-center","mb-2"],["type","submit",1,"w-full","py-2","px-4","border","border-slate-800","rounded-lg","transition","duration-500","text-white",3,"click"],[1,"w-full","flex","justify-center"],[1,"text-sm","my-3","border","border-slate-800","w-8","h-8","rounded-full","flex","items-center","justify-center","text-white"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"form",1)(2,"h2",2),oe(3,"Login"),F(),P(4,"input",3),he("input",function(s){return i.handleChange(s,"email")}),F(),P(5,"input",4),he("input",function(s){return i.handleChange(s,"password")}),F(),P(6,"div",5),he("click",function(){return i.handleAnonymousLogin()}),oe(7,"Continue as a guest?"),F(),P(8,"div",6),oe(9),F(),P(10,"button",7),he("click",function(s){return i.handleSubmit(s)}),oe(11,"Login"),F(),P(12,"div",8)(13,"p",9),oe(14,"Or"),F()(),P(15,"button",7),he("click",function(s){return i.handleGoogleLogin(s)}),oe(16,"Login in with google"),F()()()),2&r&&(se(9),Kt(i.errorMessage))}})}return n})()},{path:"list",component:fW},{path:"detail/:id",component:yW},{path:"favorites",component:(()=>{class n{constructor(t,r,i){this.userService=t,this.httpClient=r,this.filmService=i,this.films=[]}ngOnInit(){this.userService.getUser().subscribe(t=>{this.httpClient.get(`${hi_restLink}/favorite/${t?.uid}`).subscribe(r=>{r.forEach(o=>{this.filmService.getFilmsDetail(o.movie_id).subscribe(s=>{this.films.push(Mg(s))})})})})}static#e=this.\u0275fac=function(r){return new(r||n)(w(Vo),w(oi),w(Su))};static#t=this.\u0275cmp=mn({type:n,selectors:[["app-favorites"]],decls:2,vars:1,consts:[[1,"grid","grid-cols-4","gap-5","p-4","justify-items-center"],["class","justify-center",4,"ngFor","ngForOf"],[1,"justify-center"],[3,"film"]],template:function(r,i){1&r&&(P(0,"div",0),vr(1,wW,2,1,"div",1),F()),2&r&&(se(1),ut("ngForOf",i.films))},dependencies:[eu,jT]})}return n})()}];let EW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Nt({type:n});static#n=this.\u0275inj=yt({imports:[bT.forRoot(CW),bT]})}return n})(),IW=(()=>{class n{constructor(t,r){this.router=t,this.userService=r,this.title="frontend-emi"}ngOnInit(){var t=this;return v(function*(){const r=yield rW();r?(t.userService.setUser({email:r?.email,uid:r?.uid}),t.router.navigate(["/list"])):t.router.navigate(["/"])})()}static#e=this.\u0275fac=function(r){return new(r||n)(w(gt),w(Vo))};static#t=this.\u0275cmp=mn({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"bg-gradient-to-r","from-slate-900","to-slate-700","min-h-screen"]],template:function(r,i){1&r&&(P(0,"div",0),Sn(1,"router-outlet"),F())},dependencies:[wg]})}return n})();const Uo=new S("CallSetDisabledState",{providedIn:"root",factory:()=>nd}),nd="always";let sA=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Nt({type:n});static#n=this.\u0275inj=yt({})}return n})();const _y=new S("NgModelWithFormControlWarning");let Cq=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Nt({type:n});static#n=this.\u0275inj=yt({imports:[sA]})}return n})(),Iq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_y,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Uo,useValue:t.callSetDisabledState??nd}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Nt({type:n});static#n=this.\u0275inj=yt({imports:[Cq]})}return n})();function et(n){this.content=n}et.prototype={constructor:et,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return-1==e?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return-1==i?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new et(o)},remove:function(n){var e=this.find(n);if(-1==e)return this;var t=this.content.slice();return t.splice(e,2),new et(t)},addToStart:function(n,e){return new et([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new et(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(-1==o?i.length:o,0,e,t),new et(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return(n=et.from(n)).size?new et(n.content.concat(this.subtract(n).content)):this},append:function(n){return(n=et.from(n)).size?new et(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=et.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}},et.from=function(n){if(n instanceof et)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new et(e)};const IA=et;function bA(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i!=o){if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)t++;return t}if(i.content.size||o.content.size){let s=bA(i.content,o.content,t+1);if(null!=s)return s}t+=i.nodeSize}else t+=i.nodeSize}}function DA(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:t,b:r};let s=n.child(--i),a=e.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:t,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,r--;return{a:t,b:r}}if(s.content.size||a.content.size){let c=DA(s.content,a.content,t-1,r-1);if(c)return c}t-=l,r-=l}else t-=l,r-=l}}class M{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let s=0,a=0;a<t;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&!1!==r(l,i+a,o||null,s)&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",s=!0;return this.nodesBetween(e,t,(a,l)=>{a.isText?(o+=a.text.slice(Math.max(e,l)-l,t-l),s=!r):a.isLeaf?(i?o+="function"==typeof i?i(a):i:a.type.spec.leafText&&(o+=a.type.spec.leafText(a)),s=!r):!s&&a.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new M(i,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,s=0;s<t;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>t)&&(a=a.isText?a.cut(Math.max(0,e-s),Math.min(a.text.length,t-s)):a.cut(Math.max(0,e-s-1),Math.min(a.content.size,t-s-1))),r.push(a),i+=a.nodeSize),s=l}return new M(r,i)}cutByIndex(e,t){return e==t?M.empty:0==e&&t==this.content.length?this:new M(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new M(i,o)}addToStart(e){return new M([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new M(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return bA(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return DA(this,e,t,r)}findIndex(e,t=-1){if(0==e)return ad(0,e);if(e==this.size)return ad(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=i+this.child(r).nodeSize;if(s>=e)return s==e||t>0?ad(r+1,s):ad(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return M.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new M(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return M.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new M(t||e,r)}static from(e){if(!e)return M.empty;if(e instanceof M)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new M([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}M.empty=new M([],0);const Sy={index:0,offset:0};function ad(n,e){return Sy.index=n,Sy.offset=e,Sy}function ld(n,e){if(n===e)return!0;if(!n||"object"!=typeof n||!e||"object"!=typeof e)return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!ld(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!ld(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Ie=(()=>{class n{constructor(t,r){this.type=t,this.attrs=r}addToSet(t){let r,i=!1;for(let o=0;o<t.length;o++){let s=t[o];if(this.eq(s))return t;if(this.type.excludes(s.type))r||(r=t.slice(0,o));else{if(s.type.excludes(this.type))return t;!i&&s.type.rank>this.type.rank&&(r||(r=t.slice(0,o)),r.push(this),i=!0),r&&r.push(s)}}return r||(r=t.slice()),i||r.push(this),r}removeFromSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t}isInSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1}eq(t){return this==t||this.type==t.type&&ld(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let i=t.marks[r.type];if(!i)throw new RangeError(`There is no mark type ${r.type} in this schema`);return i.create(r.attrs)}static sameSet(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].eq(r[i]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return n.none;if(t instanceof n)return[t];let r=t.slice();return r.sort((i,o)=>i.type.rank-o.type.rank),r}}return n.none=[],n})();class cd extends Error{}class j{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=TA(this.content,e+this.openStart,t);return r&&new j(r,this.openStart,this.openEnd)}removeBetween(e,t){return new j(SA(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return j.empty;let r=t.openStart||0,i=t.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new j(M.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new j(e,r,i)}}function SA(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:s,offset:a}=n.findIndex(t);if(i==e||o.isText){if(a!=t&&!n.child(s).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=s)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(SA(o.content,e-i-1,t-i-1)))}function TA(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),s=n.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let a=TA(s.content,e-o-1,t);return a&&n.replaceChild(i,s.copy(a))}function bq(n,e,t){if(t.openStart>n.depth)throw new cd("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new cd("Inconsistent open depths");return xA(n,e,t,0)}function xA(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let s=xA(n,e,t,r+1);return o.copy(o.content.replaceChild(i,s))}if(t.content.size){if(t.openStart||t.openEnd||n.depth!=r||e.depth!=r){let{start:s,end:a}=function Dq(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(M.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}(t,n);return vi(o,AA(n,s,a,e,r))}{let s=n.parent,a=s.content;return vi(s,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}}return vi(o,ud(n,e,r))}function MA(n,e){if(!e.type.compatibleContent(n.type))throw new cd("Cannot join "+e.type.name+" onto "+n.type.name)}function Ty(n,e,t){let r=n.node(t);return MA(r,e.node(t)),r}function mi(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Ga(n,e,t,r){let i=(e||n).node(t),o=0,s=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(mi(n.nodeAfter,r),o++));for(let a=o;a<s;a++)mi(i.child(a),r);e&&e.depth==t&&e.textOffset&&mi(e.nodeBefore,r)}function vi(n,e){return n.type.checkContent(e),n.copy(e)}function AA(n,e,t,r,i){let o=n.depth>i&&Ty(n,e,i+1),s=r.depth>i&&Ty(t,r,i+1),a=[];return Ga(null,n,i,a),o&&s&&e.index(i)==t.index(i)?(MA(o,s),mi(vi(o,AA(n,e,t,r,i+1)),a)):(o&&mi(vi(o,ud(n,e,i+1)),a),Ga(e,t,i,a),s&&mi(vi(s,ud(t,r,i+1)),a)),Ga(r,null,i,a),new M(a)}function ud(n,e,t){let r=[];return Ga(null,n,t,r),n.depth>t&&mi(vi(Ty(n,e,t+1),ud(n,e,t+1)),r),Ga(e,null,t,r),new M(r)}j.empty=new j(M.empty,0,0);class Wa{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[3*t],i=0==t?0:this.path[3*t-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return Ie.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)!1===o[s].type.spec.inclusive&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)!1===r[o].type.spec.inclusive&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new dd(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new Wa(t,r,o)}static resolveCached(e,t){for(let i=0;i<xy.length;i++){let o=xy[i];if(o.pos==t&&o.doc==e)return o}let r=xy[My]=Wa.resolve(e,t);return My=(My+1)%Sq,r}}let xy=[],My=0,Sq=12;class dd{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Tq=Object.create(null);class sr{constructor(e,t,r,i=Ie.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||M.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&ld(this.attrs,t||e.defaultAttrs||Tq)&&Ie.sameSet(this.marks,r||Ie.none)}copy(e=null){return e==this.content?this:new sr(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new sr(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return j.empty;let i=this.resolve(e),o=this.resolve(t),s=r?0:i.sharedDepth(t),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new j(c,i.depth-s,o.depth-s)}replace(e,t,r){return bq(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return Wa.resolveCached(this,e)}resolveNoCache(e){return Wa.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),NA(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=M.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,t);return!!s&&s.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Ie.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!Ie.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=M.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,r)}}sr.prototype.text=void 0;class fd extends sr{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):NA(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new fd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new fd(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function NA(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class yi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new xq(e,t);if(null==r.next)return yi.empty;let i=kA(r);r.next&&r.err("Unexpected trailing text");let o=function Pq(n){let e=Object.create(null);return function t(r){let i=[];r.forEach(s=>{n[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);PA(n,l).forEach(u=>{c||i.push([a,c=[]]),-1==c.indexOf(u)&&c.push(u)})})});let o=e[r.join(",")]=new yi(r.indexOf(n.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(OA);o.next.push({type:i[s][0],next:e[a.join(",")]||t(a)})}return o}(PA(n,0))}(function Oq(n){let e=[[]];return i(function o(s,a){if("choice"==s.type)return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if("seq"!=s.type){if("star"==s.type){let l=t();return r(a,l),i(o(s.expr,l),l),[r(l)]}if("plus"==s.type){let l=t();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}if("opt"==s.type)return[r(a)].concat(o(s.expr,a));if("range"==s.type){let l=a;for(let c=0;c<s.min;c++){let u=t();i(o(s.expr,l),u),l=u}if(-1==s.max)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=t();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}if("name"==s.type)return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=t())}}(n,0),t()),e;function t(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}}(i));return function Fq(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),-1==r.indexOf(c)&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];return function o(s,a){let l=s.matchFragment(e,r);if(l&&(!t||l.validEnd))return M.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!u.isText&&!u.hasRequiredAttrs()&&-1==i.indexOf(d)){i.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(r){e.push(r);for(let i=0;i<r.next.length;i++)-1==e.indexOf(r.next[i].next)&&t(r.next[i].next)}(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join("\n")}}yi.empty=new yi(!0);class xq{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function kA(n){let e=[];do{e.push(Mq(n))}while(n.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function Mq(n){let e=[];do{e.push(Aq(n))}while(n.next&&")"!=n.next&&"|"!=n.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function Aq(n){let e=function Rq(n){if(n.eat("(")){let e=kA(n);return n.eat(")")||n.err("Missing closing paren"),e}if(!/\W/.test(n.next)){let e=function kq(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let s=t[o];s.groups.indexOf(e)>-1&&i.push(s)}return 0==i.length&&n.err("No node type or group '"+e+"' found"),i}(n,n.next).map(t=>(null==n.inline?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}n.err("Unexpected token '"+n.next+"'")}(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else{if(!n.eat("{"))break;e=Nq(n,e)}return e}function RA(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function Nq(n,e){let t=RA(n),r=t;return n.eat(",")&&(r="}"!=n.next?RA(n):-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function OA(n,e){return e-n}function PA(n,e){let t=[];return function r(i){let o=n[i];if(1==o.length&&!o[0].term)return r(o[0].to);t.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&-1==t.indexOf(l)&&r(l)}}(e),t.sort(OA)}function FA(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function LA(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(void 0===i){let o=n[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}t[r]=i}return t}function VA(n){let e=Object.create(null);if(n)for(let t in n)e[t]=new Lq(n[t]);return e}class hd{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=VA(r.attrs),this.defaultAttrs=FA(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:LA(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new sr(this,this.computeAttrs(e),M.from(t),Ie.setFrom(r))}createChecked(e=null,t,r){return t=M.from(t),this.checkContent(t),new sr(this,this.computeAttrs(e),t,Ie.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),(t=M.from(t)).size){let s=this.contentMatch.fillBefore(t);if(!s)return null;t=s.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(M.empty,!0);return o?new sr(this,e,t.append(o),Ie.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ie.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,s)=>r[o]=new hd(o,t,s));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class Lq{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Ay{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=VA(i.attrs),this.excluded=null;let o=FA(this.attrs);this.instance=o?new Ie(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ie(this,LA(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Ay(o,i++,t,s)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}function BA(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],s=o;if(o)t.push(o);else for(let a in n.marks){let l=n.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}const qA=Math.pow(2,16);function Gq(n,e){return n+e*qA}function JA(n){return 65535&n}class Ry{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Ht{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ht.empty)return Ht.empty}recover(e){let t=0,r=JA(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*r]+t+function Wq(n){return(n-(65535&n))/qA}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let h=l+i+((c?e==l?-1:e==d?1:t:t)<0?0:u);if(r)return h;let p=e==(t<0?l:d)?null:Gq(a/3,e-l),g=e==l?2:e==d?1:4;return(t<0?e!=l:e!=d)&&(g|=8),new Ry(h,g,p)}i+=u-c}return r?e+i:new Ry(e+i,0,null)}touches(e,t){let r=0,i=JA(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o];if(e<=l+c&&a==3*i)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+t],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new Ht(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?Ht.empty:new Ht(e<0?[0,-e,0]:[0,0,e])}}Ht.empty=new Ht([]);const Oy=Object.create(null);class tt{getMap(){return Ht.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Oy[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Oy)throw new RangeError("Duplicate use of step JSON ID "+e);return Oy[e]=t,t.prototype.jsonID=e,t}}class Fe{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Fe(e,null)}static fail(e){return new Fe(null,e)}static fromReplace(e,t,r,i){try{return Fe.ok(e.replace(t,r,i))}catch(o){if(o instanceof cd)return Fe.fail(o.message);throw o}}}function Py(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(Py(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return M.fromArray(r)}class Or extends tt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new j(Py(t.content,(s,a)=>s.isAtom&&a.type.allowsMarkType(this.mark.type)?s.mark(this.mark.addToSet(s.marks)):s,i),t.openStart,t.openEnd);return Fe.fromReplace(e,this.from,this.to,o)}invert(){return new On(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Or(t.pos,r.pos,this.mark)}merge(e){return e instanceof Or&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Or(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Or(t.from,t.to,e.markFromJSON(t.mark))}}tt.jsonID("addMark",Or);class On extends tt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new j(Py(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Fe.fromReplace(e,this.from,this.to,r)}invert(){return new Or(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new On(t.pos,r.pos,this.mark)}merge(e){return e instanceof On&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new On(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new On(t.from,t.to,e.markFromJSON(t.mark))}}tt.jsonID("removeMark",On);class Pr extends tt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Fe.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Fe.fromReplace(e,this.pos,this.pos+1,new j(M.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Pr(this.pos,t.marks[i]);return new Pr(this.pos,this.mark)}}return new Ho(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Pr(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Pr(t.pos,e.markFromJSON(t.mark))}}tt.jsonID("addNodeMark",Pr);class Ho extends tt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Fe.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Fe.fromReplace(e,this.pos,this.pos+1,new j(M.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new Pr(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ho(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ho(t.pos,e.markFromJSON(t.mark))}}tt.jsonID("removeNodeMark",Ho);class nt extends tt{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Fy(e,this.from,this.to)?Fe.fail("Structure replace would overwrite content"):Fe.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ht([this.from,this.to-this.from,this.slice.size])}invert(e){return new nt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new nt(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof nt)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?j.empty:new j(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new nt(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?j.empty:new j(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new nt(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new nt(t.from,t.to,j.fromJSON(e,t.slice),!!t.structure)}}tt.jsonID("replace",nt);class rt extends tt{constructor(e,t,r,i,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Fy(e,this.from,this.gapFrom)||Fy(e,this.gapTo,this.to)))return Fe.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Fe.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Fe.fromReplace(e,this.from,this.to,r):Fe.fail("Content does not fit in gap")}getMap(){return new Ht([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new rt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new rt(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new rt(t.from,t.to,t.gapFrom,t.gapTo,j.fromJSON(e,t.slice),t.insert,!!t.structure)}}function Fy(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Yq(n,e,t){return(0==e||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Ya(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(0==r||i.type.spec.isolating||!Yq(i,o,s))break}return null}function XA(n,e,t=null,r=n){let i=function Xq(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);return o&&t.canReplaceWith(r,i,o.length?o[0]:e)?o:null}(n,e),o=i&&function Qq(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return l&&l.validEnd?s:null}(r,e);return o?i.map(QA).concat({type:e,attrs:t}).concat(o.map(QA)):null}function QA(n){return{type:n,attrs:null}}function Za(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=t-2;c>o;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function Ly(n,e){let t=n.resolve(e),r=t.index();return function eN(n,e){return!(!n||!e||n.isLeaf||!n.canAppend(e))}(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Vy(n,e,t=e,r=j.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return function tN(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}(i,o,r)?new nt(e,t,r):new a7(i,o,r).fit()}tt.jsonID("replaceAround",rt);class a7{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=M.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=M.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&1==o.childCount;)o=o.firstChild.content,s--,a--;let l=new j(o,s,a);return e>-1?new rt(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new nt(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=1==t?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=By(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let u,{type:l,match:c}=this.frontier[a],d=null;if(1==t&&(s?c.matchType(s.type)||(d=c.fillBefore(M.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(2==t&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=By(e,t);return!(!i.childCount||i.firstChild.isLeaf||(this.unplaced=new j(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),0))}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=By(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new j(Xa(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new j(Xa(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),m=d.matchType(g.type);if(!m)break;c++,(c>1||0==l||g.content.size)&&(d=m,u.push(nN(g.mark(f.allowedMarks(g.marks)),1==c?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=Qa(this.placed,t,M.from(u)),this.frontier[t].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=a;g<h;g++){let _=m.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),m=_.content}this.unplaced=p?0==e?j.empty:new j(Xa(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new j(Xa(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!Uy(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=Uy(e,t,i,r,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Uy(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Qa(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Qa(this.placed,this.depth,M.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(M.empty,!0);t.childCount&&(this.placed=Qa(this.placed,this.frontier.length,t))}}function Xa(n,e,t){return 0==e?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Xa(n.firstChild.content,e-1,t)))}function Qa(n,e,t){return 0==e?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Qa(n.lastChild.content,e-1,t)))}function By(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function nN(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,nN(r.firstChild,e-1,1==r.childCount?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(M.empty,!0)))),n.copy(r)}function Uy(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!function l7(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}(t,o.content,s)?a:null}class jo extends tt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Fe.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Fe.fromReplace(e,this.pos,this.pos+1,new j(M.from(i),0,t.isLeaf?0:1))}getMap(){return Ht.empty}invert(e){return new jo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new jo(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new jo(t.pos,t.attr,t.value)}}tt.jsonID("attr",jo);class el extends tt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Fe.ok(r)}getMap(){return Ht.empty}invert(e){return new el(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new el(t.attr,t.value)}}tt.jsonID("docAttr",el);let $o=class extends Error{};$o=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t},($o.prototype=Object.create(Error.prototype)).constructor=$o,$o.prototype.name="TransformError";const Hy=Object.create(null);class Ce{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new h7(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=j.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?j.empty:t),0==a&&aN(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),aN(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new vt(e):zo(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=t<0?zo(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):zo(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(s)return s}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Qt(e.node(0))}static atStart(e){return zo(e,e,0,0,1)||new Qt(e)}static atEnd(e){return zo(e,e,e.content.size,e.childCount,-1)||new Qt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Hy[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Hy)throw new RangeError("Duplicate use of selection JSON ID "+e);return Hy[e]=t,t.prototype.jsonID=e,t}getBookmark(){return vt.between(this.$anchor,this.$head).getBookmark()}}Ce.prototype.visible=!0;class h7{constructor(e,t){this.$from=e,this.$to=t}}let oN=!1;function sN(n){!oN&&!n.parent.inlineContent&&(oN=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class vt extends Ce{constructor(e,t=e){sN(e),sN(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Ce.near(r);let i=e.resolve(t.map(this.anchor));return new vt(i.parent.inlineContent?i:r,r)}replace(e,t=j.empty){if(super.replace(e,t),t==j.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof vt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new yd(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new vt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=Ce.findFrom(t,r,!0)||Ce.findFrom(t,-r,!0);if(!o)return Ce.near(t,r);t=o.$head}return e.parent.inlineContent||(0==i||(e=(Ce.findFrom(e,-r,!0)||Ce.findFrom(e,r,!0)).$anchor).pos<t.pos!=i<0)&&(e=t),new vt(e,t)}}Ce.jsonID("text",vt);class yd{constructor(e,t){this.anchor=e,this.head=t}map(e){return new yd(e.map(this.anchor),e.map(this.head))}resolve(e){return vt.between(e.resolve(this.anchor),e.resolve(this.head))}}class be extends Ce{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?Ce.near(o):new be(o)}content(){return new j(M.from(this.node),0,0)}eq(e){return e instanceof be&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new jy(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new be(e.resolve(t.anchor))}static create(e,t){return new be(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}be.prototype.visible=!1,Ce.jsonID("node",be);class jy{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new yd(r,r):new jy(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&be.isSelectable(r)?new be(t):Ce.near(t)}}class Qt extends Ce{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=j.empty){if(t==j.empty){e.delete(0,e.doc.content.size);let r=Ce.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Qt(e)}map(e){return new Qt(e)}eq(e){return e instanceof Qt}getBookmark(){return p7}}Ce.jsonID("all",Qt);const p7={map(){return this},resolve:n=>new Qt(n)};function zo(n,e,t,r,i,o=!1){if(e.inlineContent)return vt.create(n,t);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&be.isSelectable(a))return be.create(n,t-(i<0?a.nodeSize:0))}else{let l=zo(n,a,t+i,i<0?a.childCount:0,i,o);if(l)return l}t+=a.nodeSize*i}return null}function aN(n,e,t){let r=n.steps.length-1;if(r<e)return;let s,i=n.steps[r];(i instanceof nt||i instanceof rt)&&(n.mapping.maps[r].forEach((a,l,c,u)=>{null==s&&(s=u)}),n.setSelection(Ce.near(n.doc.resolve(s),t)))}function uN(n,e){return e&&n?n.bind(e):n}class tl{constructor(e,t,r){this.name=e,this.init=uN(t.init,r),this.apply=uN(t.apply,r)}}new tl("doc",{init:n=>n.doc||n.schema.topNodeType.createAndFill(),apply:n=>n.doc}),new tl("selection",{init:(n,e)=>n.selection||Ce.atStart(e.doc),apply:n=>n.selection}),new tl("storedMarks",{init:n=>n.storedMarks||null,apply:(n,e,t,r)=>r.selection.$cursor?n.storedMarks:null}),new tl("scrollToSelection",{init:()=>0,apply:(n,e)=>n.scrolledIntoView?e+1:e});const v7=["ol",0],y7=["ul",0],_7=["li",0];const mN=n=>{const e=(n=>{const e={};return Object.keys(n).forEach(t=>{n[t]&&(e[t]=n[t])}),e})(n);return Object.entries(e).map(([t,r])=>`${(n=>n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`))(t)}:${r}`).join(";")},T7={link:{attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:n=>({href:n.getAttribute("href"),title:n.getAttribute("title"),target:n.getAttribute("target")})}],toDOM(n){const{href:e,title:t,target:r}=n.attrs;return["a",{href:e,title:t,target:r},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:n=>"normal"!==n.style.fontWeight&&null},{style:"font-weight",getAttrs:n=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(n)&&null}],toDOM:()=>["strong",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},u:{parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM:()=>["u",0]},s:{parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:()=>["s",0]},text_color:{attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:n=>({color:n})}],toDOM(n){const{color:e}=n.attrs;return["span",{style:`color:${e};`},0]}},text_background_color:{attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:n=>({backgroundColor:n})}],toDOM(n){const{backgroundColor:e}=n.attrs;return["span",{style:`background-color:${e};`},0]}}},U7={doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:null}},parseDOM:[{tag:"p",getAttrs(n){const{textAlign:e}=n.style;return{align:n.getAttribute("align")||e||null}}}],toDOM(n){const{align:e}=n.attrs;return["p",{style:mN({textAlign:"left"!==e?e:null})||null},0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1},align:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(n){const{textAlign:e}=n.style;return{level:1,align:n.getAttribute("align")||e||null}}},{tag:"h2",getAttrs(n){const{textAlign:e}=n.style;return{level:2,align:n.getAttribute("align")||e||null}}},{tag:"h3",getAttrs(n){const{textAlign:e}=n.style;return{level:3,align:n.getAttribute("align")||e||null}}},{tag:"h4",getAttrs(n){const{textAlign:e}=n.style;return{level:4,align:n.getAttribute("align")||e||null}}},{tag:"h5",getAttrs(n){const{textAlign:e}=n.style;return{level:5,align:n.getAttribute("align")||e||null}}},{tag:"h6",getAttrs(n){const{textAlign:e}=n.style;return{level:6,align:n.getAttribute("align")||e||null}}}],toDOM(n){const{level:e,align:t}=n.attrs;return[`h${e}`,{style:mN({textAlign:"left"!==t?t:null})||null},0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:n=>({src:n.getAttribute("src"),title:n.getAttribute("title"),alt:n.getAttribute("alt"),width:n.getAttribute("width")})}],toDOM(n){const{src:e,alt:t,title:r,width:i}=n.attrs;return["img",{src:e,alt:t,title:r,width:i}]}},list_item:{...{parseDOM:[{tag:"li"}],toDOM:()=>_7,defining:!0},content:"paragraph block*"},ordered_list:{...{attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:n=>({order:n.hasAttribute("start")?+n.getAttribute("start"):1})}],toDOM:n=>1==n.attrs.order?v7:["ol",{start:n.attrs.order},0]},content:"list_item+",group:"block"},bullet_list:{...{parseDOM:[{tag:"ul"}],toDOM:()=>y7},content:"list_item+",group:"block"}},vN=(new class Vq{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=IA.from(e.nodes),t.marks=IA.from(e.marks||{}),this.nodes=hd.compile(this.spec.nodes,this),this.marks=Ay.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;o.contentMatch=r[s]||(r[s]=yi.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==a?null:a?BA(this,a.split(" ")):""!=a&&o.inlineContent?null:[]}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=null==s?[o]:""==s?[]:BA(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof hd))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new fd(r,r.defaultAttrs,e,Ie.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return sr.fromJSON(this,e)}markFromJSON(e){return Ie.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}({marks:T7,nodes:U7}),(n,e)=>!n.selection.empty&&(e&&e(n.tr.deleteSelection().scrollIntoView()),!0));function Go(n,e,t=!1){for(let r=n;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&1!=r.childCount)return!1}return!1}function Wy(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function qy(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}function Jy(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const CN=function Z7(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof be&&e.selection.node.isBlock)return!(!r.parentOffset||!Za(e.doc,r.pos)||(t&&t(e.tr.split(r.pos).scrollIntoView()),0));if(!r.parent.isBlock)return!1;if(t){let o=i.parentOffset==i.parent.content.size,s=e.tr;(e.selection instanceof vt||e.selection instanceof Qt)&&s.deleteSelection();let a=0==r.depth?null:Jy(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=n&&n(i.parent,o),c=l?[l]:o&&a?[{type:a}]:void 0,u=Za(s.doc,s.mapping.map(r.pos),1,c);if(!c&&!u&&Za(s.doc,s.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),u=!0),u&&(s.split(s.mapping.map(r.pos),1,c),!o&&!r.parentOffset&&r.parent.type!=a)){let d=s.mapping.map(r.before()),f=s.doc.resolve(d);a&&r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}t(s.scrollIntoView())}return!0}}();function EN(n,e,t){let o,s,r=e.nodeBefore,i=e.nodeAfter;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(function Q7(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(o,o+1)||!i.isTextblock&&!Ly(n.doc,e.pos)||(t&&t(n.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),0)))}(n,e,t))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(t){let d=e.pos+i.nodeSize,f=M.empty;for(let g=o.length-1;g>=0;g--)f=M.from(o[g].create(null,f));f=M.from(r.copy(f));let h=n.tr.step(new rt(e.pos-1,d,e.pos,d,new j(f,1,0),o.length,!0)),p=d+2*o.length;Ly(h.doc,p)&&h.join(p),t(h.scrollIntoView())}return!0}let l=Ce.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),u=c&&Ya(c);if(null!=u&&u>=e.depth)return t&&t(n.tr.lift(c,u).scrollIntoView()),!0;if(a&&Go(i,"start",!0)&&Go(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(t){let g=M.empty;for(let _=f.length-1;_>=0;_--)g=M.from(f[_].copy(g));t(n.tr.step(new rt(e.pos-f.length,e.pos+i.nodeSize,e.pos+p,e.pos+i.nodeSize-p,new j(g,f.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function IN(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(t&&t(e.tr.setSelection(vt.create(e.doc,n<0?i.start(o):i.end(o)))),!0)}}const e9=IN(-1),t9=IN(1);function Ky(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=t.selection.ranges[o];t.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(l.isTextblock&&!l.hasMarkup(n,e))if(l.type==n)i=!0;else{let u=t.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let s=0;s<t.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[s];o.setBlockType(a,l,n,e)}r(o.scrollIntoView())}return!0}}function bN(n,e=null){return function(t,r){let{empty:i,$cursor:o,ranges:s}=t.selection;if(i&&!o||!function r9(n,e,t){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],s=0==i.depth&&n.inlineContent&&n.type.allowsMarkType(t);if(n.nodesBetween(i.pos,o.pos,a=>{if(s)return!1;s=a.inlineContent&&a.type.allowsMarkType(t)}),s)return!0}return!1}(t.doc,s,n))return!1;if(r)if(o)n.isInSet(t.storedMarks||o.marks())?r(t.tr.removeStoredMark(n)):r(t.tr.addStoredMark(n.create(e)));else{let a=!1,l=t.tr;for(let c=0;!a&&c<s.length;c++){let{$from:u,$to:d}=s[c];a=t.doc.rangeHasMark(u.pos,d.pos,n)}for(let c=0;c<s.length;c++){let{$from:u,$to:d}=s[c];if(a)l.removeMark(u.pos,d.pos,n);else{let f=u.pos,h=d.pos,p=u.nodeAfter,g=d.nodeBefore,m=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,_=g&&g.isText?/\s*$/.exec(g.text)[0].length:0;f+m<h&&(f+=m,h-=_),l.addMark(f,h,n.create(e))}}r(l.scrollIntoView())}return!0}}function Yy(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}let Zy=Yy(vN,(n,e,t)=>{let r=function yN(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}(n,t);if(!r)return!1;let i=Wy(r);if(!i){let s=r.blockRange(),a=s&&Ya(s);return null!=a&&(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&EN(n,i,e))return!0;if(0==r.parent.content.size&&(Go(o,"end")||be.isSelectable(o))){let s=Vy(n.doc,r.before(),r.after(),j.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=n.tr.step(s);a.setSelection(Go(o,"end")?Ce.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):be.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1||(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),0))},(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=Wy(r)}let s=o&&o.nodeBefore;return!(!s||!be.isSelectable(s)||(e&&e(n.tr.setSelection(be.create(n.doc,o.pos-s.nodeSize)).scrollIntoView()),0))}),DN=Yy(vN,(n,e,t)=>{let r=function wN(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}(n,t);if(!r)return!1;let i=qy(r);if(!i)return!1;let o=i.nodeAfter;if(EN(n,i,e))return!0;if(0==r.parent.content.size&&(Go(o,"start")||be.isSelectable(o))){let s=Vy(n.doc,r.before(),r.after(),j.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=n.tr.step(s);a.setSelection(Go(o,"start")?Ce.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):be.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1||(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),0))},(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=qy(r)}let s=o&&o.nodeAfter;return!(!s||!be.isSelectable(s)||(e&&e(n.tr.setSelection(be.create(n.doc,o.pos)).scrollIntoView()),0))});const Fr={Enter:Yy((n,e)=>{let{$head:t,$anchor:r}=n.selection;return!(!t.parent.type.spec.code||!t.sameParent(r)||(e&&e(n.tr.insertText("\n").scrollIntoView()),0))},(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Qt||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Jy(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(s,o.createAndFill());a.setSelection(vt.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(Za(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&Ya(r);return null!=i&&(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},CN),"Mod-Enter":(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),s=Jy(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Ce.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},Backspace:Zy,"Mod-Backspace":Zy,"Shift-Backspace":Zy,Delete:DN,"Mod-Delete":DN,"Mod-a":(n,e)=>(e&&e(n.tr.setSelection(new Qt(n.doc))),!0)},o9={"Ctrl-h":Fr.Backspace,"Alt-Backspace":Fr["Mod-Backspace"],"Ctrl-d":Fr.Delete,"Ctrl-Alt-Backspace":Fr["Mod-Delete"],"Alt-Delete":Fr["Mod-Delete"],"Alt-d":Fr["Mod-Delete"],"Ctrl-a":e9,"Ctrl-e":t9};for(let n in Fr)o9[n]=Fr[n];typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform();const Xy=(n,e)=>{const{from:t,$from:r,to:i,empty:o}=n.selection;return o?!!e.isInSet(n.storedMarks||r.marks()):n.doc.rangeHasMark(t,i,e)},SN=(n,e,t={})=>{const{selection:r}=n,{$from:i,to:o}=r,s=((n,e)=>{for(let t=e.depth;t>0;t-=1)if(e.node(t).type===n)return e.node(t).type;return null})(e,i);return Object.entries(t).length&&s?o<=i.end()&&i.parent.hasMarkup(e,t):!!s},TN=n=>{const e=[],{selection:{from:t,to:r}}=n;return n.doc.nodesBetween(t,r,i=>{e.push(i)}),e},xN=(n,e,t)=>{for(const r of e){const{$from:i,$to:o}=r;let s=0===i.depth&&n.type.allowsMarkType(t);if(n.nodesBetween(i.pos,o.pos,a=>!s&&(s=a.inlineContent&&a.type.allowsMarkType(t),!0)),s)return!0}return!1},MN=(n,e={})=>(t,r)=>{const{tr:i,selection:o}=t,{empty:s,ranges:a,$from:l,$to:c}=o;if(s&&o instanceof vt){const{$cursor:u}=o;if(!u||!xN(t.doc,a,n)||(i.addStoredMark(n.create(e)),!i.storedMarksSet))return!1;r?.(i)}else{if(i.addMark(l.pos,c.pos,n.create(e)),!i.docChanged)return!1;r?.(i.scrollIntoView())}return!0};class Wo{constructor(e){this.name=e}apply(){return(e,t)=>{const{schema:r}=e,i=r.marks[this.name];return!!i&&MN(i)(e,t)}}toggle(){return(e,t)=>{const{schema:r}=e,i=r.marks[this.name];return!!i&&bN(i)(e,t)}}isActive(e){const{schema:t}=e,r=t.marks[this.name];return!!r&&Xy(e,r)}canExecute(e){return this.toggle()(e)}}class wd{constructor(e=!1){this.isBulletList=!1,this.isBulletList=e}getType(e){return this.isBulletList?e.nodes.bullet_list:e.nodes.ordered_list}toggle(){return(e,t)=>{const{schema:r}=e,i=this.getType(r);return!!i&&(this.isActive(e)?function E7(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==n);return!!o&&(!t||(r.node(o.depth-1).type==n?function I7(n,e,t,r){let i=n.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new rt(o-1,s,o,s,new j(M.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new dd(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Ya(r);if(null==a)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return Ly(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}(e,t,n,o):function b7(n,e,t){let r=n.tr,i=t.parent;for(let h=t.end,p=t.endIndex-1,g=t.startIndex;p>g;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(t.start),s=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let a=0==t.startIndex,l=t.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?M.empty:M.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new rt(d-(a?1:0),f+(l?1:0),d+1,f-1,new j((a?M.empty:M.from(i.copy(M.empty))).append(l?M.empty:M.from(i.copy(M.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}(e,t,o)))}}(r.nodes.list_item)(e,t):function w7(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(n)&&0==s.startIndex){if(0==i.index(s.depth-1))return!1;let u=t.doc.resolve(s.start-2);l=new dd(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new dd(i,t.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let c=XA(l,n,e,s);return!!c&&(r&&r(function C7(n,e,t,r,i){let o=M.empty;for(let u=t.length-1;u>=0;u--)o=M.from(t[u].type.create(t[u].attrs,o));n.step(new rt(e.start-(r?2:0),e.end,e.start,e.end,new j(o,0,0),t.length,!0));let s=0;for(let u=0;u<t.length;u++)t[u].type==i&&(s=u+1);let a=t.length-s,l=e.start+t.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&Za(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return n}(t.tr,s,c,a,n).scrollIntoView()),!0)}}(i)(e,t))}}isActive(e){const{schema:t}=e,r=this.getType(t);return!!r&&SN(e,r)}canExecute(e){return this.toggle()(e)}}class _i{constructor(e){this.level=e}apply(){return(e,t)=>{const{schema:r}=e,i=r.nodes.heading;return!!i&&Ky(i)(e,t)}}toggle(){return(e,t)=>{const{schema:r,selection:i,doc:o}=e,s=r.nodes.heading;if(!s)return!1;const a=i.$from.before(1),c=o.nodeAt(a)?.attrs??{};return this.isActive(e)?Ky(r.nodes.paragraph,c)(e,t):Ky(s,{...c,level:this.level})(e,t)}}isActive(e){const{schema:t}=e,r=TN(e),i=t.nodes.heading;if(!i)return!1;const o=[i,t.nodes.text,t.nodes.blockquote];return!!r.filter(l=>o.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(e){return this.toggle()(e)}}class il{constructor(e){this.align=e}toggle(){return(e,t)=>{const{doc:r,selection:i,tr:o,schema:s}=e,{from:a,to:l}=i;let c=!1;return r.nodesBetween(a,l,(u,d)=>{const f=u.type;return[s.nodes.paragraph,s.nodes.heading].includes(f)&&(c=!0,o.setNodeMarkup(d,f,{...u.attrs,align:this.align})),!0}),!!c&&(o.docChanged&&t?.(o),!0)}}isActive(e){return!!TN(e).find(i=>i.attrs.align===this.align)}canExecute(e){return this.toggle()(e)}}const z9={strict:!0};let qo=class{constructor(e,t="color"){this.name=e,this.attrName=t}apply(e){return(t,r)=>{const{schema:i,selection:o,doc:s}=t,a=i.marks[this.name];if(!a)return!1;const{from:l,to:c,empty:u}=o;if(!u&&l+1===c){const d=s.nodeAt(l);if(d?.isAtom&&!d.isText&&d.isLeaf)return!1}return MN(a,e)(t,r)}}isActive(e){const{schema:t}=e,r=t.marks[this.name];return!!r&&Xy(e,r)}getActiveColors(e){if(!this.isActive(e))return[];const{schema:t}=e;return(n=>{let e=[];const{selection:t,storedMarks:r}=n,{from:i,to:o,empty:s,$from:a}=t;return s?e=r||a.marks():n.doc.nodesBetween(i,o,l=>{e=[...e,...l.marks]}),e})(e).filter(o=>o.type===t.marks[this.name]).map(o=>o.attrs[this.attrName]).filter(Boolean)}remove(){return(e,t)=>{const{schema:r}=e,i=r.marks[this.name];return!!i&&(n=i,(e,t)=>{const{tr:r,selection:i,storedMarks:o,doc:s}=e,{empty:a,ranges:l}=i;if(a&&i instanceof vt){const{$cursor:c}=i;if(!c||!xN(e.doc,l,n))return!1;if(n.isInSet(o||c.marks()))return r.removeStoredMark(n),t?.(r),!0}else{for(const c of l){const{$from:u,$to:d}=c;s.rangeHasMark(u.pos,d.pos,n)&&r.removeMark(u.pos,d.pos,n)}if(!r.docChanged)return!1;t?.(r.scrollIntoView())}return!1})(e,t);var n}}canExecute(e){return this.apply("text_color"===this.name?{color:""}:{backgroundColor:""})(e)}};const G9=["link"];new Wo("strong"),new Wo("em"),new Wo("code"),new Wo("u"),new Wo("s"),new class j9{toggle(){return(e,t)=>{const{schema:r}=e,i=r.nodes.blockquote;return!!i&&(this.isActive(e)?((n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),o=i&&Ya(i);return null!=o&&(e&&e(n.tr.lift(i,o).scrollIntoView()),!0)})(e,t):function n9(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),a=s&&XA(s,n,e);return!!a&&(r&&r(t.tr.wrap(s,a).scrollIntoView()),!0)}}(i)(e,t))}}isActive(e){const{schema:t}=e,r=t.nodes.blockquote;return!!r&&SN(e,r)}canExecute(e){return this.toggle()(e)}},new class $9{insert(){return(e,t)=>{const{schema:r,tr:i}=e,o=r.nodes.horizontal_rule;return!!o&&(t(i.replaceSelectionWith(o.create()).scrollIntoView()),!0)}}canExecute(e){return((n,e)=>{const{$from:t}=n.selection;for(let r=t.depth;r>=0;r-=1){const i=t.index(r);if(t.node(r).canReplaceWith(i,i,e))return!0}return!1})(e,e.schema.nodes.horizontal_rule)}},new class W9{insert(){return(e,t)=>{const{tr:r}=e,{ranges:i,empty:o}=r.selection;return o||(Object.entries(e.schema.marks).forEach(([s,a])=>{G9.includes(s)||i.forEach(l=>{r.removeMark(l.$from.pos,l.$to.pos,a)})}),t(r)),!0}}canExecute(){return!0}},new wd(!0),new wd(!1),new _i(1),new _i(2),new _i(3),new _i(4),new _i(5),new _i(6),new il("left"),new il("center"),new il("right"),new il("justify"),new class{update(e){return(t,r)=>{const{schema:i,selection:o}=t,s=i.marks.link;return!(!s||o.empty)&&bN(s,e)(t,r)}}insert(e,t){return(r,i)=>{const{schema:o,tr:s}=r;if(!o.marks.link)return!1;const c=o.text(e,[o.marks.link.create({href:t.href,title:t.title??e,target:t.target??"_blank"})]);return s.replaceSelectionWith(c,!1).scrollIntoView(),!!s.docChanged&&(i?.(s),!0)}}isActive(e,t=z9){if(t.strict)return!0;const{schema:r}=e,i=r.marks.link;return!!i&&Xy(e,i)}remove(e,t){return((n,e)=>{const{doc:t,selection:r,tr:i}=n,{$head:{pos:o},from:s,to:a}=r;if(s===a){const l=t.resolve(o),c=o-l.textOffset,u=c+l.parent.child(l.index()).nodeSize;i.removeMark(c,u)}else i.removeMark(s,a);return!!i.docChanged&&(e?.(i),!0)})(e,t)}canExecute(e){const t={href:""};return this.insert("Exec",t)(e)||this.update(t)(e)}},new class{insert(e,t){return(r,i)=>{const{schema:o,tr:s,selection:a}=r,l=o.nodes.image;if(!l)return!1;const c={width:null,src:e,...t};!c.width&&a instanceof be&&a.node.type===l&&(c.width=a.node.attrs.width),s.replaceSelectionWith(l.createAndFill(c));const u=s.doc.resolve(s.selection.anchor-s.selection.$anchor.nodeBefore.nodeSize);return s.setSelection(new be(u)).scrollIntoView(),!!s.docChanged&&(i?.(s),!0)}}isActive(e){const{selection:t}=e;return t instanceof be&&"image"===t.node.type.name}},new qo("text_color","color"),new qo("text_background_color","backgroundColor");const e_={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"};class hJ{constructor(e={}){this.locals=e_,this.get=t=>{const r=this.locals[t];return r?mS(r)?r:k(r):k("")},this.locals={...e_,...e}}}const ON={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n',horizontal_rule:'\n  <g>\n    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>\n    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>\n  </g>\n',format_clear:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>\n',path:"<path></path>"};class FJ{static get(e,t="currentColor"){const r=ON[e];return r&&(r.includes("<path")||r.includes("<g"))?`\n        <svg\n          xmlns="http://www.w3.org/2000/svg"\n          viewBox="0 0 24 24"\n          fill=${t}\n          height=20\n          width=20\n        >\n          ${r}\n        </svg>\n      `:r}}let t_=(()=>{class n{constructor(){this.locals={},this.icons={}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LJ=(()=>{class n{constructor(t){this.config=t}get locals(){return new hJ(this.config.locals)}getIcon(t){return this.config.icons[t]?this.config.icons[t]:FJ.get(t)}static#e=this.\u0275fac=function(r){return new(r||n)(x(t_,8))};static#t=this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const PN=n=>({locals:n.locals??{},icons:n.icons??{}});let VJ=(()=>{class n{constructor(t){this.sanitizer=t}transform(t){return(n=>window.trustedTypes?.isHTML(n)??!1)(t)?t:this.sanitizer.bypassSecurityTrustHtml(t)}static#e=this.\u0275fac=function(r){return new(r||n)(w(hS,16))};static#t=this.\u0275pipe=it({name:"sanitizeHtml",type:n,pure:!0})}return n})(),BJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Nt({type:n});static#n=this.\u0275inj=yt({providers:[VJ],imports:[qp,Iq]})}return n})();const Cd=new S("NgxEditorConfig"),FN={locals:e_,icons:ON};let UJ=(()=>{class n{static forRoot(t=FN){return{ngModule:n,providers:[{provide:Cd,useValue:t},{provide:t_,useFactory:PN,deps:[Cd]}]}}static forChild(t=FN){return{ngModule:n,providers:[{provide:Cd,useValue:t},{provide:t_,useFactory:PN,deps:[Cd]},LJ]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Nt({type:n});static#n=this.\u0275inj=yt({imports:[qp,BJ]})}return n})();typeof navigator<"u"&&/Mac/.test(navigator.platform);let tK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Nt({type:n,bootstrap:[IW]});static#n=this.\u0275inj=yt({providers:[Su],imports:[t$,EW,d4,UJ]})}return n})();Qj().bootstrapModule(tK).catch(n=>console.error(n))}},ie=>{ie(ie.s=366)}]);